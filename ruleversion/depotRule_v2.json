{
    "title": "总仓库•V2",
    "author": "Reborn",
    "version": 5,
    "updateText": "1.支持仓库通知，仓库JSON格式要改为{notice:仓库通知,data:原本的规则数组}\n2.作者仓库列表移至小棉袄的码云的authorList.json，与总仓库JSON同目录，以后更新作者仓库用这个",
    "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLmgLvku5PlupPigKJWMiIsImF1dGhvciI6IlJlYm9ybiIsInVybCI6Imhpa2VyOi8vaG9tZSIsInZlcnNpb24iOjUsImNvbF90eXBlIjoiaWNvbl8yIiwiY2xhc3NfbmFtZSI6IiIsImNsYXNzX3VybCI6IiIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwieWVhcl9uYW1lIjoiIiwieWVhcl91cmwiOiIiLCJmaW5kX3J1bGUiOiJqczpcbnZhciByZXMgPSB7fTtcbnZhciBkID0gW107XG5cbi8vIOWcqOi/memHjOa3u+WKoOS9nOiAheS7k+W6k+mFjee9rlxudmFyIGF1dGhvckxpc3QgPSBbIF07XG52YXIgcmVtb3RlQXV0aG9yTGlzdFVybCA9IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L3Jhdy9tYXN0ZXIvcnVsZXZlcnNpb24vYXV0aG9yTGlzdC5qc29uXCJcbmV2YWwoXCJhdXRob3JMaXN0PVwiICsgZmV0Y2gocmVtb3RlQXV0aG9yTGlzdFVybCwge30pKTtcblxuLy8g5Zyo6L+Z6YeM5re75Yqg6ZqP5py65aS05YOPXG52YXIgcGljVXJsTGlzdCA9IFtcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2MjQmc2l6ZT0xMjhcIixcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2NDcmc2l6ZT0xMjhcIixcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNjY1MzYmc2l6ZT0xMjhcIixcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2NTUmc2l6ZT0xMjhcIixcbl07XG5cbi8vIOmakOiXj+W8gOWFs++8jOS4jemcgOimgemakOiXj+ivt+iuvue9ruS4umZhbHNlXG52YXIgbmVlZEhpZGVSdWxlID0gdHJ1ZTtcbi8vIOiHquihjOa3u+WKoOimgemakOiXj+eahOagh+iusO+8jOagvOW8j+S4uu+8mlvmoIforrDlkI1dXG52YXIgaGlkZVN5bWJvbHMgPSBbXCJb5qih5p2/XVwiLCBcIlvmnKrlrozmiJBdXCJdO1xuXG4vLyDmmK/lkKbpmpDol4/kvovlrZDvvIzpnIDopoHpmpDol4/or7forr7nva7kuLp0cnVlXG52YXIgbmVlZEhpZGVFdGMgPSBmYWxzZTtcbmlmIChuZWVkSGlkZUV0YyA9PSB0cnVlKSBoaWRlU3ltYm9scy5wdXNoKFwiW+S+i+WtkF1cIik7XG5cbmZ1bmN0aW9uIGlzSGlkZVJ1bGUgKHJ1bGVUaXRsZSkge1xuICAgIGlmIChuZWVkSGlkZVJ1bGUgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGlmIChoaWRlU3ltYm9scy5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBydWxlVGVtcCA9IHJ1bGVUaXRsZTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgaGlkZVN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJ1bGVUZW1wLmluZGV4T2YoaGlkZVN5bWJvbHNbaV0pICE9IC0xKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5kLnB1c2goe1xuICAgIHRpdGxlOiBcIuasoui/juadpeWIsOinhueVjOaAu+S7k+W6k1wiLFxuICAgIGRlc2M6IFwi5Zyo6L+Z6YeM77yM5L2g5Y+v5Lul55WF5ri45ZCE5Liq5aSn5L2s55qE6KeE5YiZ77yM5b+r6YCf5rWP6KeI5b+r6YCf5a+85YWlXCIsXG4gICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG59KTtcblxuZC5wdXNoKHtcbiAgICB0aXRsZTogXCLigJjigJjngrnlh7vmn6XnnItWMuaAu+S7k+W6k+W8gOWPkeaWh+aho+KAmeKAmVwiLFxuICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNkb2N1bWVudD1odHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kXCIsXG4gICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG59KTtcblxudmFyIGRlc2MgPSBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICByZXR1cm4gcnVsZS5vbGRWZXJzaW9uICE9IG51bGwgJiYgcnVsZS5vbGRWZXJzaW9uIDwgcnVsZS52ZXJzaW9uID8gKFwi4oCY4oCY5pyJ5paw54mI5pys77yaXCIgKyBydWxlLnZlcnNpb24gKyBcIuKAmeKAme+8jOeCueWHu+WvvOWFpeaWsOeJiOacrFwiKSA6IHJ1bGUub2xkVmVyc2lvbiA+IHJ1bGUudmVyc2lvbiA/IFwi4oCY4oCY5Za177yf5Li65ZWl5L2g55qE6KeE5YiZ54mI5pys5q+U5oiR6L+Y6auY77yf4oCZ4oCZXCIgOiBcIuW9k+WJjeinhOWImeW3suaYr+acgOaWsOeJiO+8jOeCueWHu+i3s+WIsOinhOWImemhtVwiO1xufTtcblxuLy8g5Li65omA5pyJ5YiG57G75re75Yqg5oC75LuT5bqT6aG5XG50cnl7XG52YXIgcmVtb3RlRGVwb3RSdWxlVXJsID0gXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9kZXBvdFJ1bGVfdjIuanNvblwiXG52YXIgcmVtb3RlRGVwb3RSdWxlID0ge307XG5ldmFsKFwicmVtb3RlRGVwb3RSdWxlPVwiICsgZmV0Y2gocmVtb3RlRGVwb3RSdWxlVXJsLCB7fSkpO1xudmFyIGxvY2FsRGVwb3RSdWxlID0gSlNPTi5wYXJzZShnZXRSdWxlKCkpO1xucmVtb3RlRGVwb3RSdWxlLm9sZFZlcnNpb24gPSBsb2NhbERlcG90UnVsZS52ZXJzaW9uO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShsb2NhbERlcG90UnVsZSkpO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShyZW1vdGVEZXBvdFJ1bGUpKTtcbmlmIChyZW1vdGVEZXBvdFJ1bGUub2xkVmVyc2lvbiA8IHJlbW90ZURlcG90UnVsZS52ZXJzaW9uKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IHJlbW90ZURlcG90UnVsZS50aXRsZSArIFwiXFx0XCIgKyBkZXNjKHJlbW90ZURlcG90UnVsZSksXG4gICAgICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNcIiArIEpTT04uc3RyaW5naWZ5KHJlbW90ZURlcG90UnVsZSkgIHx8IFwiXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIixcbiAgICAgICAgLy9jb250ZW50OiByZW1vdGVEZXBvdFJ1bGUudXBkYXRlVGV4dCxcbiAgICAgICAgZGVzYzogXCLjgJDmm7TmlrDml6Xlv5fjgJFcXG5cIiArIHJlbW90ZURlcG90UnVsZS51cGRhdGVUZXh0XG4gICAgfSk7XG59IGVsc2Uge1xuICAgIGRbMF0uZGVzYyA9IFwi4oCY4oCY54K55Ye75Y+v5p+l55yL5pu05paw5pel5b+X4oCZ4oCZPGJyPlwiICsgZFswXS5kZXNjO1xuICAgIGRbMF0udXJsID0gXCJodHRwczovL2JhaWR1LmNvbSN1cGRhdGVUZXh0PVwiICsgcmVtb3RlRGVwb3RSdWxlLnVwZGF0ZVRleHRcbn1cbn0gY2F0Y2ggKGUpIHtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLigJjigJjmgLvku5PlupPmm7TmlrDnqIvluo/lt7LmjZ/lnY/igJnigJlcIixcbiAgICAgICAgZGVzYzogXCLor7fogZTns7sgUmVib3JuIOS/ruWkjVwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCIsXG4gICAgfSk7XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgYXV0aG9yTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICBpZiAoaXNIaWRlUnVsZShhdXRob3JMaXN0W2ldKSkge1xuICAgICAgICAgIGF1dGhvckxpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGktLTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIHBpY1VybCA9IG51bGw7XG4gICAgdmFyIHBpY1VybEpTID0gYXV0aG9yTGlzdFtpXS5tYXRjaCgvcGljVXJsPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgZXZhbChwaWNVcmxKUyk7XG4gICAgaWYgKHBpY1VybCA9PSBudWxsKSBwaWNVcmwgPSBwaWNVcmxMaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpwaWNVcmxMaXN0Lmxlbmd0aCldO1xuICAgIC8vIHNldEVycm9yKHBpY1VybClcbiAgICBkLnB1c2goe1xuICAgICAgICAgdGl0bGU6IGF1dGhvckxpc3RbaV0uc3BsaXQoXCJAQFwiKVswXSxcbiAgICAgICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNcIiArIGF1dGhvckxpc3RbaV0sXG4gICAgICAgICBwaWNfdXJsOiBwaWNVcmxcbiAgICB9KTtcbn1cblxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoZCkpO1xucmVzLmRhdGEgPSBkO1xuc2V0SG9tZVJlc3VsdChyZXMpOyIsInNlYXJjaF91cmwiOiIiLCJ0aXRsZUNvbG9yIjoiI2ZmZjIwYzAwIiwiZ3JvdXAiOiIj77iP4oOj6aaW6aG1Iiwic2VhcmNoRmluZCI6IiIsImRldGFpbF9jb2xfdHlwZSI6InRleHRfMSIsImRldGFpbF9maW5kX3J1bGUiOiJqczpcbnZhciByZXMgPSB7fTtcbnZhciBkID0gW107XG5cbi8vIOWFpeaIj+W8gOWFs++8n++8iOa7keeove+8iS8vIOWIoOmZpOW8gOWFs++8jOS4jemcgOimgeWIoOmZpOivt+iuvue9ruS4umZhbHNlXG52YXIgbmVlZERlbFN5bWJvbCA9IHRydWU7XG4vLyDoh6rooYzmt7vliqDopoHooqvliKDmjonnmoTmoIforrBcbnZhciBzeW1ib2xzID0gW1wi5qCH6K6wMVwiLFwi5qCH6K6wMlwiXTtcblxuLy8g6ZqQ6JeP5byA5YWz77yM5LiN6ZyA6KaB6ZqQ6JeP6K+36K6+572u5Li6ZmFsc2VcbnZhciBuZWVkSGlkZVJ1bGUgPSB0cnVlO1xuLy8g6Ieq6KGM5re75Yqg6KaB6ZqQ6JeP55qE5qCH6K6w77yM5qC85byP5Li677yaW+agh+iusOWQjV1cbnZhciBoaWRlU3ltYm9scyA9IFtcIlvmqKHmnb9dXCIsIFwiW+acquWujOaIkF1cIl07XG5cbi8vIOaYr+WQpumakOiXj+S+i+WtkO+8jOmcgOimgemakOiXj+ivt+iuvue9ruS4unRydWVcbnZhciBuZWVkSGlkZUV0YyA9IGZhbHNlO1xuaWYgKG5lZWRIaWRlRXRjID09IHRydWUpIGhpZGVTeW1ib2xzLnB1c2goXCJb5L6L5a2QXVwiKTtcblxuLyoqXG4gKiDlj6/lnKjmraTlpIToh6rlrprkuYnku5PlupPvvIzlrp7njrDnp4Hkurrku5PlupNcbiAqXG4gKiDku6VSZWJvcm7ku5PlupPnmoTpk77mjqXkuLrlj4LogINcbiAqXG4gKiBodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvYmxvYi9tYXN0ZXIvdXBkYXRlLmpzb25cbiAqL1xudmFyIGF1dGhvckFuZE93bmVyQW5kUHJvamVjdCA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXS5zcGxpdChcIkBAXCIpO1xudmFyIHJlbW90ZUFwaUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL2FwaS92NS9yZXBvcy9cIjtcbnZhciBvd25lciA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFsxXTsgICAvLyDku5PlupPmi6XmnInogIVcbnZhciByZXBvID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzJdOyAvLyDku5PlupPlkI1cbnZhciBhdXRob3IgPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMF07XG52YXIgcmVtb3RlRmlsZW5hbWUgPSBcInVwZGF0ZS5qc29uXCI7IC8vIOaWh+S7tuWQjVxudmFyIHBhdGggPSByZW1vdGVGaWxlbmFtZTsgIC8vIOWcqOS7k+W6k+S4reaWh+S7tueahOi3r+W+hFxudmFyIGFjY2Vzc190b2tlbiA9IG51bGw7ICAvLyDnlKjmiLfmjojmnYPnoIHvvIzlnKjnoIHkupFcIuiuvue9ruKAlD7lronlhajorr7lrpotPuS4quS6uuiuv+mXruS7pOeJjFwi5Lit5Y+v5Lul55Sf5oiQXG52YXIgdG9rZW5KUyA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXS5tYXRjaCgvYWNjZXNzX3Rva2VuPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG5ldmFsKHRva2VuSlMpOyAgXG4vLyBzZXRFcnJvcihhY2Nlc3NfdG9rZW49PW51bGwpO1xuXG4vKipcbiAqIO+8ge+8ge+8geW7uuiuruWcqOatpOWkhOmFjee9ruengeS6uuS7k+W6k++8ge+8ge+8gVxuICpcbiAqIOS4uuS6huS4jeW9seWTjeWOn+S7k+W6k+WPr+S7peWcqOi/memHjOiuvue9ruiHquW3seeahOS7k+W6k+mFjee9ru+8jOS4vuS+i++8mlxuICpcbiAqIOmTvuaOpeWPguiAg++8mmh0dHBzOi8vZ2l0ZWUuY29tL1JlYm9ybl8wL0hpa2VyUnVsZXNQcml2YWN5L2Jsb2IvbWFzdGVyL3VwZGF0ZS5qc29uXG4gKi9cbi8qXG5vd25lciA9IFwiUmVib3JuXzBcIjtcbnJlcG8gPSBcIkhpa2VyUnVsZXNQcml2YWN5XCI7XG5wYXRoID0gXCJ1cGRhdGUuanNvblwiO1xuYWNjZXNzX3Rva2VuID0gXCIqKioqKioqKioqXCI7XG4vLyBhdXRob3IgPSBcIlJlYm9yblwiOyAgLy8g6Iul5omA5pyJ6KeE5YiZYXV0aG9y6YO95piv5ZCM5LiA5Liq5YiZ5Zyo5q2k5aSE5Zu65a6a5LiA5Liq5Y2z5Y+v77yM54S25ZCO5YiG57G75Y+v5Lul5riF56m677yM5rOo5oSP5Yig6ZmkIHNwbGl077yM5LiN54S25Lya5oql6ZSZ77yb5ZCm5YiZ6K+35rOo5oSP5aGr5aW95YiG57G777yM5LiN54S25rKh5rOV5qOA5rWL5pu05pawXG4qL1xuXG5pZiAoZ2V0VXJsKCkuaW5kZXhPZihcInJ1bGU6Ly9cIikgIT0gLTEpIHtcbiAgICB2YXIgcmVtb3RlRGVwb3RSdWxlID0gSlNPTi5wYXJzZShnZXRVcmwoKS5zcGxpdChcIiNcIilbMV0pO1xuICAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLmm7TmlrDml6Xlv5cgKOeCueWHu+WPr+afpeeci+WujOaVtOaXpeW/lylcIixcbiAgICAgICAgIGRlc2M6IHJlbW90ZURlcG90UnVsZS51cGRhdGVUZXh0LFxuICAgICAgICAgdXJsOiBcImh0dHBzOi8vZ2l0ZWUuY29tL3FpdXN1bnNoaW5lMjMzL2hpa2VyVmlldy9yYXcvbWFzdGVyL3J1bGV2ZXJzaW9uL2RlcG90UnVsZV92Mi5qc29uXCIsXG4gICAgICAgICBjb2xfdHlwZTogXCJwaWNfMVwiXG4gICAgfSk7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgIHRpdGxlOiBcIueCueWHu+abtOaWsOaAu+S7k+W6k1wiLFxuICAgICAgICAgdXJsOiByZW1vdGVEZXBvdFJ1bGUucnVsZSxcbiAgICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIiBcbiAgICB9KTtcbn0gZWxzZSBpZiAoZ2V0VXJsKCkuaW5kZXhPZihcInVwZGF0ZVRleHQ9XCIpICE9IC0xKSB7XG4gICAgdmFyIHVwZGF0ZVRleHQgPSBudWxsO1xuICAgIC8vIHVwZGF0ZVRleHRKUyA9IFwidXBkYXRlVGV4dD0nXCIgKyBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV0ucmVwbGFjZShcInVwZGF0ZVRleHQ9XCIsIFwiXCIpICsgXCInO1wiO1xuICAgIC8vIGV2YWwodXBkYXRlVGV4dEpTKTtcbiAgICB1cGRhdGVUZXh0ID0gZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdLnJlcGxhY2UoXCJ1cGRhdGVUZXh0PVwiLCBcIlwiKTtcbiAgICBkLnB1c2goe1xuICAgICAgICAgdGl0bGU6IFwi5pu05paw5pel5b+XICjngrnlh7vlj6/mn6XnnIvlrozmlbTml6Xlv5cpXCIsXG4gICAgICAgICBkZXNjOiB1cGRhdGVUZXh0ICE9IG51bGwgPyB1cGRhdGVUZXh0IDogXCLmmoLml6Dmm7TmlrDml6Xlv5dcIixcbiAgICAgICAgIHVybDogXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9kZXBvdFJ1bGVfdjIuanNvblwiLFxuICAgICAgICAgY29sX3R5cGU6IFwicGljXzFcIlxuICAgIH0pO1xufSBlbHNlIGlmIChnZXRVcmwoKS5pbmRleE9mKFwiZG9jdW1lbnQ9XCIpICE9IC0xKSB7XG4gICAgdmFyIGRvY3VtZW50VXJsID0gbnVsbDtcbiAgICBkb2N1bWVudFVybCA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXS5yZXBsYWNlKFwiZG9jdW1lbnQ9XCIsIFwiXCIpO1xuICAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLngrnlh7vlj6/mn6XnnIvlrozmlbTmlofmoaNcIixcbiAgICAgICAgIHVybDogZG9jdW1lbnRVcmwsXG4gICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KTtcbn0gZWxzZSB7XG5cbi8vIEFQSemTvuaOpeWPguiAg++8mmh0dHBzOi8vZ2l0ZWUuY29tL2FwaS92NS9yZXBvcy97e293bmVyfX0ve3tyZXBvfX0vY29udGVudHMve3twYXRofX0/YWNjZXNzX3Rva2VuPSoqKipcbnZhciByZW1vdGVVcmwgPSByZW1vdGVBcGlIb21lICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9jb250ZW50cy9cIiArIHBhdGg7XG5pZiAoYWNjZXNzX3Rva2VuICE9IG51bGwpIHtcbiAgICByZW1vdGVVcmwgPSByZW1vdGVVcmwgKyBcIj9hY2Nlc3NfdG9rZW49XCIgK2FjY2Vzc190b2tlbjtcbn1cbi8vIHNldEVycm9yKHJlbW90ZVVybCk7XG5cbmZ1bmN0aW9uIGdldFJ1bGVOb1N5bWJvbHMocnVsZSwgc3ltYm9sTGlzdCkge1xuICAgIGlmIChuZWVkRGVsU3ltYm9sICE9IHRydWUpIHJldHVybiBydWxlO1xuICAgIHZhciBydWxlVGVtcCA9IHJ1bGU7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHN5bWJvbExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN5bWJvbFJlZyA9IG5ldyBSZWdFeHAoc3ltYm9sTGlzdFtpXSwgXCJnXCIpO1xuICAgICAgICBydWxlVGVtcC50aXRsZSA9IHJ1bGVUZW1wLnRpdGxlLnJlcGxhY2Uoc3ltYm9sUmVnLCBcIlwiKTtcbiAgICB9XG4vL3NldEVycm9yKEpTT04uc3RyaW5naWZ5KHJ1bGVUZW1wKSk7XG4gICAgcmV0dXJuIHJ1bGVUZW1wO1xufVxuXG5mdW5jdGlvbiBpc0hpZGVSdWxlIChydWxlKSB7XG4gICAgaWYgKG5lZWRIaWRlUnVsZSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gaWYgKGhpZGVTeW1ib2xzLmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJ1bGVUZW1wID0gcnVsZTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgaGlkZVN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJ1bGVUZW1wLnRpdGxlLmluZGV4T2YoaGlkZVN5bWJvbHNbaV0pICE9IC0xKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgcnVsZXMgPSBbXTtcbmV2YWwoXCJydWxlcz1cIiArIGZldGNoKFwiaGlrZXI6Ly9ob21lXCIsIHt9KSk7XG52YXIgbXlSdWxlcyA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBydWxlID0gcnVsZXNbaV07XG4gICAgaWYgKHJ1bGUuYXV0aG9yID09IGF1dGhvcikge1xuICAgICAgICBteVJ1bGVzLnB1c2goZ2V0UnVsZU5vU3ltYm9scyhydWxlLCBzeW1ib2xzKSk7XG4gICAgfVxufVxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkobXlSdWxlcykpO1xuXG4vLyDlpoLmnpzmnKzlnLDmsqHmnInliJnmj5DnpLrlr7zlhaXmlrDop4TliJlcbi8vIOWboOmDqOWIhuaJi+acuuS4jeaUr+aMgWVzNuivreazle+8jOaVheazqOmHiuaOiVxuLyp2YXIgbXlSdWxlc01hcCA9IG5ldyBNYXAoKTtcbm15UnVsZXMubWFwKHJ1bGU9Pntcbm15UnVsZXNNYXAuc2V0KHJ1bGUudGl0bGUsIHRydWUpO1xufSk7XG4vL3NldEVycm9yKG15UnVsZXNNYXAuZ2V0KFwi6IW+6K6v4oCiUmVcIikpOyovXG4vLyDljp/lp4vmlrnms5XvvIzmr5TovoPogJfml7ZcbmZ1bmN0aW9uIGlzSW5BcnJheShydWxlcywgdGl0bGUpIHtcbiAgICBpZiAocnVsZXMubGVuZ3RoID09IDApIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChydWxlc1tpXS50aXRsZSA9PSB0aXRsZSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbnZhciBkZXNjID0gZnVuY3Rpb24gKHJ1bGVzLCBydWxlKSB7XG4gICAgaWYgKGlzSW5BcnJheShydWxlcywgcnVsZS50aXRsZSkgPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gcnVsZS5vbGRWZXJzaW9uICE9IG51bGwgJiYgcnVsZS5vbGRWZXJzaW9uIDwgcnVsZS52ZXJzaW9uID8gKFwi4oCY4oCY5pyJ5paw54mI5pys77yaXCIgKyBydWxlLnZlcnNpb24gKyBcIuKAmeKAme+8jOeCueWHu+WvvOWFpeaWsOeJiOacrFwiKSA6IHJ1bGUub2xkVmVyc2lvbiA+IHJ1bGUudmVyc2lvbiA/IFwi4oCY4oCY5Za177yf5Li65ZWl5L2g55qE6KeE5YiZ54mI5pys5q+U5oiR6L+Y6auY77yf4oCZ4oCZXCIgOiBcIuW9k+WJjeinhOWImeW3suaYr+acgOaWsOeJiO+8jOeCueWHu+i3s+WIsOinhOWImemhtVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIuKAmOKAmOS9oOWwmuacquWvvOWFpeivpeinhOWImeKAmeKAme+8jOeCueWHu+WvvOWFpVwiO1xuICAgIH1cbn07XG5cbmQucHVzaCh7XG4gICAgdGl0bGU6IFwi4oCY4oCY6L+Z6YeM5pivIFwiICsgYXV0aG9yICsgXCIg55qE6KeE5YiZ5bCP5LuT5bqT4oCZ4oCZXCIsXG4gICAgY29sX3R5cGU6IFwidGV4dF8xXCJcbn0pO1xuXG52YXIgcmVtb3RlUnVsZXMgPSBbXTtcbi8vIHZhciByZW1vdGVVcmwgPSByZW1vdGVBcGlIb21lICsgZW5jb2RlVVJJQ29tcG9uZW50KGF1dGhvcikgKyBcIi9cIiArIHJlbW90ZUZpbGVuYW1lO1xudmFyIHJlbW90ZVNvdXJjZSA9IGZldGNoKHJlbW90ZVVybCwge30pO1xuLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcbnRyeSB7XG4gICAgZXZhbChcInJlbW90ZVNvdXJjZT1cIiArIHJlbW90ZVNvdXJjZSk7XG4gICAgZXZhbChcInJlbW90ZVJ1bGVzPVwiICsgYmFzZTY0RGVjb2RlKHJlbW90ZVNvdXJjZS5jb250ZW50KSk7XG4gICAgaWYgKHJlbW90ZVJ1bGVzLmRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgdmFyIG5vdGljZSA9IHJlbW90ZVJ1bGVzLm5vdGljZTtcbiAgICAgICAgIGlmIChub3RpY2UgIT0gbnVsbCAmJiBub3RpY2UgIT0gXCJcIikge1xuICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuS7k+W6k+mAmuefpVwiLFxuICAgICAgICAgICAgICAgICAgIGRlc2M6IG5vdGljZSxcbiAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJwaWNfMVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgfVxuICAgICAgICAgcmVtb3RlUnVsZXMgPSByZW1vdGVSdWxlcy5kYXRhO1xuICAgIH1cbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLms6jmhI/kuovpoblcIixcbiAgICAgICAgZGVzYzogXCIxLiDkv53lrZjlkI7pnIDopoHmiYvliqjkuIvmi4nliLfmlrDmiY3og73mm7TmlrDop4TliJnnirbmgIFcXG4yLiDngrnlh7vot7PliLDop4TliJnpobXpnIDopoHov5Tlm57kuIDnuqfliJfooajmiY3og73nlJ/mlYhcXG4zLiDoi6XmmK/lpLHor6/ngrnlh7vot7Povazlj6/ku6Xngrnlh7vms6jmhI/kuovpobnmgaLlpI3liLDku5PlupPpobVcIixcbiAgICAgICAgY29sX3R5cGU6IFwicGljXzFcIixcbiAgICAgICAgdXJsOiBcImhpa2VyOi8vaG9tZUDmgLvku5PlupPigKJWMlwiXG4gICAgfSk7XG59IGNhdGNoKGUpIHsgfVxuLy9zZXRFcnJvcihyZW1vdGVSdWxlcy5sZW5ndGgpO1xuaWYgKHJlbW90ZVJ1bGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi6K+l6L+c56iL5LuT5bqT5peg5pWw5o2u77yBXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgIH0pO1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLor6Xov5znqIvku5PlupPml6DmlbDmja7vvIFcIixcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSk7XG59IGVsc2Uge1xuICAgIC8vc2V0RXJyb3IobXlSdWxlcy5sZW5ndGgpO1xuICAgIGlmIChteVJ1bGVzLmxlbmd0aCA+PSByZW1vdGVSdWxlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8g5LiN55+l6YGT5Lya5LiN5Lya5pyJ6Zeu6aKYXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXlSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW1vdGVSdWxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChpc0hpZGVSdWxlKHJlbW90ZVJ1bGVzW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlcy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChteVJ1bGVzW2ldLnRpdGxlID09IHJlbW90ZVJ1bGVzW2pdLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGVzW2pdLm9sZFZlcnNpb24gPSBteVJ1bGVzW2ldLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0ucnVsZT1teVJ1bGVzW2ldLnJ1bGU7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0uZGVzYz1teVJ1bGVzW2ldLmRlc2M7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKChpc0hpZGVSdWxlKHJlbW90ZVJ1bGVzW2ldKSkpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVSdWxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBteVJ1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG15UnVsZXNbal0udGl0bGUgPT0gcmVtb3RlUnVsZXNbaV0udGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZXNbaV0ub2xkVmVyc2lvbiA9IG15UnVsZXNbal0udmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgLy9yZW1vdGVSdWxlc1tpXS5ydWxlPW15UnVsZXNbal0ucnVsZTtcbiAgICAgICAgICAgICAgICAgICAgLy9yZW1vdGVSdWxlc1tpXS5kZXNjPW15UnVsZXNbal0uZGVzYztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZVNvcnQoYXJyKSB7XG4gICAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgICAgICBpZiAobGVuIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihsZW4gLyAyKSxcbiAgICAgICAgICAgIGxlZnQgPSBhcnIuc2xpY2UoMCwgbWlkZGxlKSxcbiAgICAgICAgICAgIHJpZ2h0ID0gYXJyLnNsaWNlKG1pZGRsZSk7XG4gICAgICAgIHJldHVybiBtZXJnZShtZXJnZVNvcnQobGVmdCksIG1lcmdlU29ydChyaWdodCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lcmdlKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICB3aGlsZSAobGVmdC5sZW5ndGggPiAwICYmIHJpZ2h0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChsZWZ0WzBdLm9sZFZlcnNpb24gPCBsZWZ0WzBdLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5vbGRWZXJzaW9uIDwgcmlnaHRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsZWZ0WzBdLm9sZFZlcnNpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxlZnQuc2hpZnQoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0WzBdLm9sZFZlcnNpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxlZnQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcblxuICAgICAgICB3aGlsZSAocmlnaHQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZW1vdGVSdWxlcyA9IG1lcmdlU29ydChyZW1vdGVSdWxlcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZVJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBqID0gcmVtb3RlUnVsZXNbaV07XG4gICAgICAgIHZhciByID0ge307XG4gICAgICAgIHIuZGVzYyA9IGRlc2MobXlSdWxlcywgaikgKyAoai5vbGRWZXJzaW9uICE9IG51bGwgJiYgai5vbGRWZXJzaW9uIDwgai52ZXJzaW9uID8gKFwiPGJyPjxicj5b5pu05paw5pel5b+XXSBcIiArKCBqLnVwZGF0ZVRleHQgPT1udWxsID8gXCLml6BcIjogai51cGRhdGVUZXh0KSkgOiBcIlwiKTtcbiAgICAgICAgci50aXRsZSA9IGoudGl0bGU7XG4gICAgICAgIHIudXJsID0gIGlzSW5BcnJheShteVJ1bGVzLCBqLnRpdGxlKSA/KGoub2xkVmVyc2lvbiAhPSBudWxsICYmIGoub2xkVmVyc2lvbiA8IGoudmVyc2lvbiA/IChqLnJ1bGUgfHwgXCJcIikgOiAoXCJoaWtlcjovL2hvbWVAXCIrai50aXRsZSkpOiAgKGoucnVsZSB8fCBcIlwiKTtcbiAgICAgICAgLy9yLmNvbnRlbnQgPSBqLnVwZGF0ZVRleHQ7XG4gICAgICAgIGQucHVzaChyKTtcbiAgICB9XG59XG59XG5cbnJlcy5kYXRhID0gZDtcbnNldEhvbWVSZXN1bHQocmVzKTsiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiIn0=" 
}