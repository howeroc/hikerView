{
    "title": "总仓库•V2",
    "author": "Reborn",
    "version": 2,
    "updateText": "现在支持公开仓库和私人仓库混合显示啦！\n具体请看规则中的私人仓库例子",
    "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLmgLvku5PlupPigKJWMiIsImF1dGhvciI6IlJlYm9ybiIsInVybCI6Imhpa2VyOi8vaG9tZSIsInZlcnNpb24iOjIsImNvbF90eXBlIjoiaWNvbl8yIiwiY2xhc3NfbmFtZSI6IiIsImNsYXNzX3VybCI6IiIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwieWVhcl9uYW1lIjoiIiwieWVhcl91cmwiOiIiLCJmaW5kX3J1bGUiOiJqczpcbnZhciByZXMgPSB7fTtcbnZhciBkID0gW107XG5cbi8vIOWcqOi/memHjOa3u+WKoOS9nOiAheS7k+W6k+mFjee9rlxudmFyIGF1dGhvckxpc3QgPSBbXG4gICAgXCLlsI/mo4noooTwn4yeQEBxaXVzdW5zaGluZTIzM0BAaGlrZXJWaWV3XCIsXG4gICAgXCJSZWJvcm5AQFJlYm9ybl8wQEBIaWtlclJ1bGVzRGVwb3RcIixcbiAgICBcIlpydWlyeUBAenJ1aXJ5QEBoYWlrdW9cIixcbiAgICBcIkBMb3lEZ0lrQEBMb3lEZ0lrQEBMb3lEZ0lrX1J1bGVcIixcbiAgICBcIummmembheaDhUBAbHprMjM1NTlAQHB1YmxpY19mb2xkZXJcIixcbiAgICBcIuengeS6uuS7k+W6k+S+i+WtkEBAUmVib3JuXzBAQEhpa2VyUnVsZXNQcml2YWN5QEBhY2Nlc3NfdG9rZW49JyoqKionXCJcbl07XG5cbi8vIOWcqOi/memHjOa3u+WKoOmaj+acuuWktOWDj1xudmFyIHBpY1VybExpc3QgPSBbXG5cImh0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjcxNjI0JnNpemU9MTI4XCIsXG5cImh0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjcxNjQ3JnNpemU9MTI4XCIsXG5cImh0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjY2NTM2JnNpemU9MTI4XCIsXG5cImh0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjcxNjU1JnNpemU9MTI4XCIsXG5dO1xuXG5kLnB1c2goe1xuICAgIHRpdGxlOiBcIuasoui/juadpeWIsOinhueVjOaAu+S7k+W6k1wiLFxuICAgIGRlc2M6IFwi5Zyo6L+Z6YeM77yM5L2g5Y+v5Lul55WF5ri45ZCE5Liq5aSn5L2s55qE6KeE5YiZ77yM5b+r6YCf5rWP6KeI5b+r6YCf5a+85YWlXCIsXG4gICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG59KTtcblxudmFyIGRlc2MgPSBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICByZXR1cm4gcnVsZS5vbGRWZXJzaW9uICE9IG51bGwgJiYgcnVsZS5vbGRWZXJzaW9uIDwgcnVsZS52ZXJzaW9uID8gKFwi4oCY4oCY5pyJ5paw54mI5pys77yaXCIgKyBydWxlLnZlcnNpb24gKyBcIuKAmeKAme+8jOeCueWHu+WvvOWFpeaWsOeJiOacrFwiKSA6IHJ1bGUub2xkVmVyc2lvbiA+IHJ1bGUudmVyc2lvbiA/IFwi4oCY4oCY5Za177yf5Li65ZWl5L2g55qE6KeE5YiZ54mI5pys5q+U5oiR6L+Y6auY77yf4oCZ4oCZXCIgOiBcIuW9k+WJjeinhOWImeW3suaYr+acgOaWsOeJiO+8jOeCueWHu+i3s+WIsOinhOWImemhtVwiO1xufTtcblxuLy8g5Li65omA5pyJ5YiG57G75re75Yqg5oC75LuT5bqT6aG5XG50cnl7XG52YXIgcmVtb3RlRGVwb3RSdWxlVXJsID0gXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9kZXBvdFJ1bGVfdjIuanNvblwiXG52YXIgcmVtb3RlRGVwb3RSdWxlID0ge307XG5ldmFsKFwicmVtb3RlRGVwb3RSdWxlPVwiICsgZmV0Y2gocmVtb3RlRGVwb3RSdWxlVXJsLCB7fSkpO1xudmFyIGxvY2FsRGVwb3RSdWxlID0gSlNPTi5wYXJzZShnZXRSdWxlKCkpO1xucmVtb3RlRGVwb3RSdWxlLm9sZFZlcnNpb24gPSBsb2NhbERlcG90UnVsZS52ZXJzaW9uO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShsb2NhbERlcG90UnVsZSkpO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShyZW1vdGVEZXBvdFJ1bGUpKTtcbmlmIChyZW1vdGVEZXBvdFJ1bGUub2xkVmVyc2lvbiA8IHJlbW90ZURlcG90UnVsZS52ZXJzaW9uKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IHJlbW90ZURlcG90UnVsZS50aXRsZSArIFwiXFx0XCIgKyBkZXNjKHJlbW90ZURlcG90UnVsZSksXG4gICAgICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNcIiArIHJlbW90ZURlcG90UnVsZS5ydWxlICB8fCBcIlwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCIsXG4gICAgICAgIC8vY29udGVudDogcmVtb3RlRGVwb3RSdWxlLnVwZGF0ZVRleHQsXG4gICAgICAgIGRlc2M6IFwi44CQ5pu05paw5pel5b+X44CRXFxuXCIgKyByZW1vdGVEZXBvdFJ1bGUudXBkYXRlVGV4dFxuICAgIH0pO1xufVxufSBjYXRjaCAoZSkge1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuKAmOKAmOaAu+S7k+W6k+abtOaWsOeoi+W6j+W3suaNn+Wdj+KAmeKAmVwiLFxuICAgICAgICBkZXNjOiBcIuivt+iBlOezuyBSZWJvcm4g5L+u5aSNXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIixcbiAgICB9KTtcbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCBhdXRob3JMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBpY1VybCA9IG51bGw7XG4gICAgdmFyIHBpY1VybEpTID0gYXV0aG9yTGlzdFtpXS5tYXRjaCgvcGljVXJsPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgZXZhbChwaWNVcmxKUyk7XG4gICAgaWYgKHBpY1VybCA9PSBudWxsKSBwaWNVcmwgPSBwaWNVcmxMaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpwaWNVcmxMaXN0Lmxlbmd0aCldO1xuICAgIC8vIHNldEVycm9yKHBpY1VybClcbiAgICBkLnB1c2goe1xuICAgICAgICAgdGl0bGU6IGF1dGhvckxpc3RbaV0uc3BsaXQoXCJAQFwiKVswXSxcbiAgICAgICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNcIiArIGF1dGhvckxpc3RbaV0sXG4gICAgICAgICBwaWNfdXJsOiBwaWNVcmxcbiAgICB9KTtcbn1cblxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoZCkpO1xucmVzLmRhdGEgPSBkO1xuc2V0SG9tZVJlc3VsdChyZXMpOyIsInNlYXJjaF91cmwiOiIiLCJ0aXRsZUNvbG9yIjoiI2ZmZjIwYzAwIiwiZ3JvdXAiOiIj77iP4oOj6aaW6aG1Iiwic2VhcmNoRmluZCI6IiIsImRldGFpbF9jb2xfdHlwZSI6InRleHRfMSIsImRldGFpbF9maW5kX3J1bGUiOiJqczpcbnZhciByZXMgPSB7fTtcbnZhciBkID0gW107XG5cbmlmIChnZXRVcmwoKS5pbmRleE9mKFwicnVsZTovL1wiKSAhPSAtMSkge1xuICAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLngrnlh7vmm7TmlrDmgLvku5PlupNcIixcbiAgICAgICAgIHVybDogZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdLFxuICAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiIFxuICAgIH0pO1xufSBlbHNlIHtcbi8vIOWFpeaIj+W8gOWFs++8n++8iOa7keeove+8iS8vIOWIoOmZpOW8gOWFs++8jOS4jemcgOimgeWIoOmZpOivt+iuvue9ruS4umZhbHNlXG52YXIgbmVlZERlbFN5bWJvbCA9IHRydWU7XG4vLyDoh6rooYzmt7vliqDopoHooqvliKDmjonnmoTmoIforrBcbnZhciBzeW1ib2xzID0gW1wi5qCH6K6wMVwiLFwi5qCH6K6wMlwiXTtcblxuLy8g6ZqQ6JeP5byA5YWz77yM5LiN6ZyA6KaB6ZqQ6JeP6K+36K6+572u5Li6ZmFsc2VcbnZhciBuZWVkSGlkZVJ1bGUgPSB0cnVlO1xuLy8g6Ieq6KGM5re75Yqg6KaB6ZqQ6JeP55qE5qCH6K6w77yM5qC85byP5Li677yaW+agh+iusOWQjV1cbnZhciBoaWRlU3ltYm9scyA9IFtcIlvmqKHmnb9dXCIsIFwiW+acquWujOaIkF1cIl07XG5cbi8qKlxuICog5Y+v5Zyo5q2k5aSE6Ieq5a6a5LmJ5LuT5bqT77yM5a6e546w56eB5Lq65LuT5bqTXG4gKlxuICog5LulUmVib3Ju5LuT5bqT55qE6ZO+5o6l5Li65Y+C6ICDXG4gKlxuICogaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlc0RlcG90L2Jsb2IvbWFzdGVyL3VwZGF0ZS5qc29uXG4gKi9cbnZhciBhdXRob3JBbmRPd25lckFuZFByb2plY3QgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV0uc3BsaXQoXCJAQFwiKTtcbnZhciByZW1vdGVBcGlIb21lID0gXCJodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3MvXCI7XG52YXIgb3duZXIgPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMV07ICAgLy8g5LuT5bqT5oul5pyJ6ICFXG52YXIgcmVwbyA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFsyXTsgLy8g5LuT5bqT5ZCNXG52YXIgYXV0aG9yID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzBdO1xudmFyIHJlbW90ZUZpbGVuYW1lID0gXCJ1cGRhdGUuanNvblwiOyAvLyDmlofku7blkI1cbnZhciBwYXRoID0gcmVtb3RlRmlsZW5hbWU7ICAvLyDlnKjku5PlupPkuK3mlofku7bnmoTot6/lvoRcbnZhciBhY2Nlc3NfdG9rZW4gPSBudWxsOyAgLy8g55So5oi35o6I5p2D56CB77yM5Zyo56CB5LqRXCLorr7nva7igJQ+5a6J5YWo6K6+5a6aLT7kuKrkurrorr/pl67ku6TniYxcIuS4reWPr+S7peeUn+aIkFxudmFyIHRva2VuSlMgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV0ubWF0Y2goL2FjY2Vzc190b2tlbj0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuZXZhbCh0b2tlbkpTKTsgIFxuLy8gc2V0RXJyb3IoYWNjZXNzX3Rva2VuPT1udWxsKTtcblxuLyoqXG4gKiDvvIHvvIHvvIHlu7rorq7lnKjmraTlpITphY3nva7np4Hkurrku5PlupPvvIHvvIHvvIFcbiAqXG4gKiDkuLrkuobkuI3lvbHlk43ljp/ku5PlupPlj6/ku6XlnKjov5nph4zorr7nva7oh6rlt7HnmoTku5PlupPphY3nva7vvIzkuL7kvovvvJpcbiAqXG4gKiDpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzUHJpdmFjeS9ibG9iL21hc3Rlci91cGRhdGUuanNvblxuICovXG4vKlxub3duZXIgPSBcIlJlYm9ybl8wXCI7XG5yZXBvID0gXCJIaWtlclJ1bGVzUHJpdmFjeVwiO1xucGF0aCA9IFwidXBkYXRlLmpzb25cIjtcbmFjY2Vzc190b2tlbiA9IFwiKioqKioqKioqKlwiO1xuLy8gYXV0aG9yID0gXCJSZWJvcm5cIjsgIC8vIOiLpeaJgOacieinhOWImWF1dGhvcumDveaYr+WQjOS4gOS4quWImeWcqOatpOWkhOWbuuWumuS4gOS4quWNs+WPr++8jOeEtuWQjuWIhuexu+WPr+S7pea4heepuu+8jOazqOaEj+WIoOmZpCBzcGxpdO+8jOS4jeeEtuS8muaKpemUme+8m+WQpuWImeivt+azqOaEj+Whq+WlveWIhuexu++8jOS4jeeEtuayoeazleajgOa1i+abtOaWsFxuKi9cblxuLy8gQVBJ6ZO+5o6l5Y+C6ICD77yaaHR0cHM6Ly9naXRlZS5jb20vYXBpL3Y1L3JlcG9zL3t7b3duZXJ9fS97e3JlcG99fS9jb250ZW50cy97e3BhdGh9fT9hY2Nlc3NfdG9rZW49KioqKlxudmFyIHJlbW90ZVVybCA9IHJlbW90ZUFwaUhvbWUgKyBvd25lciArIFwiL1wiICsgcmVwbyArIFwiL2NvbnRlbnRzL1wiICsgcGF0aDtcbmlmIChhY2Nlc3NfdG9rZW4gIT0gbnVsbCkge1xuICAgIHJlbW90ZVVybCA9IHJlbW90ZVVybCArIFwiP2FjY2Vzc190b2tlbj1cIiArYWNjZXNzX3Rva2VuO1xufVxuLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcblxuZnVuY3Rpb24gZ2V0UnVsZU5vU3ltYm9scyhydWxlLCBzeW1ib2xMaXN0KSB7XG4gICAgaWYgKG5lZWREZWxTeW1ib2wgIT0gdHJ1ZSkgcmV0dXJuIHJ1bGU7XG4gICAgdmFyIHJ1bGVUZW1wID0gcnVsZTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgc3ltYm9sTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3ltYm9sUmVnID0gbmV3IFJlZ0V4cChzeW1ib2xMaXN0W2ldLCBcImdcIik7XG4gICAgICAgIHJ1bGVUZW1wLnRpdGxlID0gcnVsZVRlbXAudGl0bGUucmVwbGFjZShzeW1ib2xSZWcsIFwiXCIpO1xuICAgIH1cbi8vc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkocnVsZVRlbXApKTtcbiAgICByZXR1cm4gcnVsZVRlbXA7XG59XG5cbmZ1bmN0aW9uIGlzSGlkZVJ1bGUgKHJ1bGUpIHtcbiAgICBpZiAobmVlZEhpZGVSdWxlICE9IHRydWUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBpZiAoaGlkZVN5bWJvbHMubGVuZ3RoID09IDApIHJldHVybiBmYWxzZTtcbiAgICB2YXIgcnVsZVRlbXAgPSBydWxlO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBoaWRlU3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocnVsZVRlbXAudGl0bGUuaW5kZXhPZihoaWRlU3ltYm9sc1tpXSkgIT0gLTEpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBydWxlcyA9IFtdO1xuZXZhbChcInJ1bGVzPVwiICsgZmV0Y2goXCJoaWtlcjovL2hvbWVcIiwge30pKTtcbnZhciBteVJ1bGVzID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJ1bGUgPSBydWxlc1tpXTtcbiAgICBpZiAocnVsZS5hdXRob3IgPT0gYXV0aG9yKSB7XG4gICAgICAgIG15UnVsZXMucHVzaChnZXRSdWxlTm9TeW1ib2xzKHJ1bGUsIHN5bWJvbHMpKTtcbiAgICB9XG59XG4vLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShteVJ1bGVzKSk7XG5cbi8vIOWmguaenOacrOWcsOayoeacieWImeaPkOekuuWvvOWFpeaWsOinhOWImVxuLy8g5Zug6YOo5YiG5omL5py65LiN5pSv5oyBZXM26K+t5rOV77yM5pWF5rOo6YeK5o6JXG4vKnZhciBteVJ1bGVzTWFwID0gbmV3IE1hcCgpO1xubXlSdWxlcy5tYXAocnVsZT0+e1xubXlSdWxlc01hcC5zZXQocnVsZS50aXRsZSwgdHJ1ZSk7XG59KTtcbi8vc2V0RXJyb3IobXlSdWxlc01hcC5nZXQoXCLohb7orq/igKJSZVwiKSk7Ki9cbi8vIOWOn+Wni+aWueazle+8jOavlOi+g+iAl+aXtlxuZnVuY3Rpb24gaXNJbkFycmF5KHJ1bGVzLCB0aXRsZSkge1xuICAgIGlmIChydWxlcy5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJ1bGVzW2ldLnRpdGxlID09IHRpdGxlKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxudmFyIGRlc2MgPSBmdW5jdGlvbiAocnVsZXMsIHJ1bGUpIHtcbiAgICBpZiAoaXNJbkFycmF5KHJ1bGVzLCBydWxlLnRpdGxlKSA9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBydWxlLm9sZFZlcnNpb24gIT0gbnVsbCAmJiBydWxlLm9sZFZlcnNpb24gPCBydWxlLnZlcnNpb24gPyAoXCLigJjigJjmnInmlrDniYjmnKzvvJpcIiArIHJ1bGUudmVyc2lvbiArIFwi4oCZ4oCZ77yM54K55Ye75a+85YWl5paw54mI5pysXCIpIDogcnVsZS5vbGRWZXJzaW9uID4gcnVsZS52ZXJzaW9uID8gXCLigJjigJjllrXvvJ/kuLrllaXkvaDnmoTop4TliJnniYjmnKzmr5TmiJHov5jpq5jvvJ/igJnigJlcIiA6IFwi5b2T5YmN6KeE5YiZ5bey5piv5pyA5paw54mI77yM54K55Ye76Lez5Yiw6KeE5YiZ6aG1XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwi4oCY4oCY5L2g5bCa5pyq5a+85YWl6K+l6KeE5YiZ4oCZ4oCZ77yM54K55Ye75a+85YWlXCI7XG4gICAgfVxufTtcblxuZC5wdXNoKHtcbiAgICB0aXRsZTogXCLigJjigJjov5nph4zmmK8gXCIgKyBhdXRob3IgKyBcIiDnmoTop4TliJnlsI/ku5PlupPigJnigJlcIixcbiAgICBjb2xfdHlwZTogXCJ0ZXh0XzFcIlxufSk7XG5cbmQucHVzaCh7XG4gICAgdGl0bGU6IFwi5rOo5oSP5LqL6aG5XCIsXG4gICAgZGVzYzogXCIxLiDkv53lrZjlkI7pnIDopoHmiYvliqjkuIvmi4nliLfmlrDmiY3og73mm7TmlrDop4TliJnnirbmgIFcXG4yLiDngrnlh7vot7PliLDop4TliJnpobXpnIDopoHov5Tlm57kuIDnuqfliJfooajmiY3og73nlJ/mlYhcXG4zLiDoi6XmmK/lpLHor6/ngrnlh7vot7Povazlj6/ku6Xngrnlh7vms6jmhI/kuovpobnmgaLlpI3liLDku5PlupPpobVcIixcbiAgICBjb2xfdHlwZTogXCJwaWNfMVwiLFxuICAgIHVybDogXCJoaWtlcjovL2hvbWVA5oC75LuT5bqT4oCi5LqM57qn6KeE5YiZ54mIXCJcbn0pO1xuXG52YXIgcmVtb3RlUnVsZXMgPSBbXTtcbi8vIHZhciByZW1vdGVVcmwgPSByZW1vdGVBcGlIb21lICsgZW5jb2RlVVJJQ29tcG9uZW50KGF1dGhvcikgKyBcIi9cIiArIHJlbW90ZUZpbGVuYW1lO1xudmFyIHJlbW90ZVNvdXJjZSA9IGZldGNoKHJlbW90ZVVybCwge30pO1xuLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcbnRyeSB7XG4gICAgZXZhbChcInJlbW90ZVNvdXJjZT1cIiArIHJlbW90ZVNvdXJjZSk7XG4gICAgZXZhbChcInJlbW90ZVJ1bGVzPVwiICsgYmFzZTY0RGVjb2RlKHJlbW90ZVNvdXJjZS5jb250ZW50KSk7XG59IGNhdGNoKGUpIHsgfVxuLy9zZXRFcnJvcihyZW1vdGVSdWxlcy5sZW5ndGgpO1xuaWYgKHJlbW90ZVJ1bGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi6K+l6L+c56iL5LuT5bqT5peg5pWw5o2u77yBXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgIH0pO1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLor6Xov5znqIvku5PlupPml6DmlbDmja7vvIFcIixcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSk7XG59IGVsc2Uge1xuICAgIC8vc2V0RXJyb3IobXlSdWxlcy5sZW5ndGgpO1xuICAgIGlmIChteVJ1bGVzLmxlbmd0aCA+PSByZW1vdGVSdWxlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8g5LiN55+l6YGT5Lya5LiN5Lya5pyJ6Zeu6aKYXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXlSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW1vdGVSdWxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChpc0hpZGVSdWxlKHJlbW90ZVJ1bGVzW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlcy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChteVJ1bGVzW2ldLnRpdGxlID09IHJlbW90ZVJ1bGVzW2pdLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGVzW2pdLm9sZFZlcnNpb24gPSBteVJ1bGVzW2ldLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0ucnVsZT1teVJ1bGVzW2ldLnJ1bGU7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbal0uZGVzYz1teVJ1bGVzW2ldLmRlc2M7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKChpc0hpZGVSdWxlKHJlbW90ZVJ1bGVzW2ldKSkpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVSdWxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBteVJ1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG15UnVsZXNbal0udGl0bGUgPT0gcmVtb3RlUnVsZXNbaV0udGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZXNbaV0ub2xkVmVyc2lvbiA9IG15UnVsZXNbal0udmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgLy9yZW1vdGVSdWxlc1tpXS5ydWxlPW15UnVsZXNbal0ucnVsZTtcbiAgICAgICAgICAgICAgICAgICAgLy9yZW1vdGVSdWxlc1tpXS5kZXNjPW15UnVsZXNbal0uZGVzYztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZVNvcnQoYXJyKSB7XG4gICAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgICAgICBpZiAobGVuIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihsZW4gLyAyKSxcbiAgICAgICAgICAgIGxlZnQgPSBhcnIuc2xpY2UoMCwgbWlkZGxlKSxcbiAgICAgICAgICAgIHJpZ2h0ID0gYXJyLnNsaWNlKG1pZGRsZSk7XG4gICAgICAgIHJldHVybiBtZXJnZShtZXJnZVNvcnQobGVmdCksIG1lcmdlU29ydChyaWdodCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lcmdlKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICB3aGlsZSAobGVmdC5sZW5ndGggPiAwICYmIHJpZ2h0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChsZWZ0WzBdLm9sZFZlcnNpb24gPCBsZWZ0WzBdLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5vbGRWZXJzaW9uIDwgcmlnaHRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsZWZ0WzBdLm9sZFZlcnNpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxlZnQuc2hpZnQoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0WzBdLm9sZFZlcnNpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxlZnQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcblxuICAgICAgICB3aGlsZSAocmlnaHQubGVuZ3RoKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZW1vdGVSdWxlcyA9IG1lcmdlU29ydChyZW1vdGVSdWxlcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZVJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBqID0gcmVtb3RlUnVsZXNbaV07XG4gICAgICAgIHZhciByID0ge307XG4gICAgICAgIHIuZGVzYyA9IGRlc2MobXlSdWxlcywgaikgKyAoai5vbGRWZXJzaW9uICE9IG51bGwgJiYgai5vbGRWZXJzaW9uIDwgai52ZXJzaW9uID8gKFwiPGJyPjxicj5b5pu05paw5pel5b+XXSBcIiArKCBqLnVwZGF0ZVRleHQgPT1udWxsID8gXCLml6BcIjogai51cGRhdGVUZXh0KSkgOiBcIlwiKTtcbiAgICAgICAgci50aXRsZSA9IGoudGl0bGU7XG4gICAgICAgIHIudXJsID0gIGlzSW5BcnJheShteVJ1bGVzLCBqLnRpdGxlKSA/KGoub2xkVmVyc2lvbiAhPSBudWxsICYmIGoub2xkVmVyc2lvbiA8IGoudmVyc2lvbiA/IChqLnJ1bGUgfHwgXCJcIikgOiAoXCJoaWtlcjovL2hvbWVAXCIrai50aXRsZSkpOiAgKGoucnVsZSB8fCBcIlwiKTtcbiAgICAgICAgLy9yLmNvbnRlbnQgPSBqLnVwZGF0ZVRleHQ7XG4gICAgICAgIGQucHVzaChyKTtcbiAgICB9XG59XG59XG5cbnJlcy5kYXRhID0gZDtcbnNldEhvbWVSZXN1bHQocmVzKTsiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiIn0=" 
}