{
    "title": "ÊÄª‰ªìÂ∫ì",
    "author": "Reborn",
    "version": 35,
    "updateText": "1.‚Äò‚ÄòÈáçÁ£ÖÊñ∞ÂäüËÉΩ‚Äô‚Äô:ÊîØÊåÅÊêúÁ¥¢‰ªìÂ∫ìËßÑÂàô\n2.üôàÔ∏èÊäÄÁ©∑‰∫ÜÔºåËøôÂèØËÉΩÁúüÁöÑÊòØÊúÄÂêé‰∫ø‰∏™ÁâàÊú¨‰∫Ü\n3.Êõ¥Â§öÊõ¥Êñ∞Êó•ÂøóËØ∑ÁÇπÂáªËÆøÈóÆÊ∫êÁΩëÈ°µÊü•Áúã",
    "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLmgLvku5PlupMiLCJhdXRob3IiOiJSZWJvcm4iLCJ1cmwiOiJoaWtlcjovL2hvbWUiLCJ2ZXJzaW9uIjozNSwiY29sX3R5cGUiOiJpY29uXzIiLCJjbGFzc19uYW1lIjoiIiwiY2xhc3NfdXJsIjoiIiwiYXJlYV9uYW1lIjoiIiwiYXJlYV91cmwiOiIiLCJ5ZWFyX25hbWUiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcbnZhciBtUnVsZSA9IEpTT04ucGFyc2UoZ2V0UnVsZSgpKTtcbmV2YWwoZ2V0Q3J5cHRvSlMoKSk7XG4vLyDliJ3lp4vljJbmkJzntKJcbnB1dFZhcih7a2V5OiAncGFnZUFkZCcsIHZhbHVlOiAwfSk7XG5cbi8vIOS7k+W6k+mFjee9ruacrOWcsOe8k+WtmOaWh+S7tlxudmFyIHNldHRpbmdzQ2FjaGVGaWxlID0gXCJoaWtlcjovL2ZpbGVzL2RlcG90X3YyX3NldHRpbmdzLmpzb25cIjtcbi8vIOacrOWcsOe8k+WtmOW8gOWFs1xudmFyIG5lZWRDYWNoZVNldHRpbmcgPSB0cnVlO1xuXG4vLyDku5PlupPkuKrmgKforr7nva5cbnZhciBzZXR0aW5ncyA9IHtcbiAgICAvLyDlnKjov5nph4zmt7vliqDku5PlupPphY3nva7vvIzlj6/kvb/mnKzlnLDmt7vliqDnmoTku5PlupPnva7pobZcbiAgICBhdXRob3JMaXN0OiBbXG4gICAgICAgIFwiW+S+i+WtkF3nva7pobbnp4Hkurrku5PlupNAQFJlYm9ybl8wQEBIaWtlclJ1bGVzUHJpdmFjeUBAYWNjZXNzX3Rva2VuPScqKioqJ1wiLFxuICAgICAgICBcIlvkvovlrZBd6Ieq5a6a5LmJ5paH5Lu25ZCNQEBSZWJvcm5fMEBASGlrZXJSdWxlc0RlcG90QEByZW1vdGVGaWxlbmFtZT0ndXBkYXRlXzEuanNvbidcIlxuICAgIF0sXG4gICAgcmVtb3RlQXV0aG9yTGlzdFVybDogXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9hdXRob3JMaXN0Lmpzb25cIixcbiAgICAvLyDlnKjov5nph4zmt7vliqDku5PlupPphY3nva7vvIzlj6/kvb/mnKzlnLDmt7vliqDnmoTku5PlupPnva7lupVcbiAgICBhdXRob3JMaXN0Qm90dG9tOiBbXG4gICAgICAgIFwiW+S+i+WtkF3nva7lupXmnKzlnLDku5PlupNAQFJlYm9ybl8wQEBIaWtlclJ1bGVzUHJpdmFjeVwiXG4gICAgXSxcbiAgICAvLyDlnKjov5nph4zmt7vliqDpmo/mnLrlpLTlg49cbiAgICBwaWNVcmxMaXN0OiBbXG4gICAgICAgIFwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2MjQmc2l6ZT0xMjhcIixcbiAgICAgICAgXCJodHRwczovL3d3dy5lYXN5aWNvbi5uZXQvYXBpL3Jlc2l6ZUFwaS5waHA/aWQ9MTI3MTY0NyZzaXplPTEyOFwiLFxuICAgICAgICBcImh0dHBzOi8vd3d3LmVhc3lpY29uLm5ldC9hcGkvcmVzaXplQXBpLnBocD9pZD0xMjY2NTM2JnNpemU9MTI4XCIsXG4gICAgICAgIFwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2NTUmc2l6ZT0xMjhcIixcbiAgICBdLFxuICAgIC8vIOmakOiXj+W8gOWFs++8jOS4jemcgOimgemakOiXj+ivt+iuvue9ruS4umZhbHNlXG4gICAgbmVlZEhpZGVSdWxlOiB0cnVlLFxuICAgIC8vIOiHquihjOa3u+WKoOimgemakOiXj+eahOagh+iusO+8jOagvOW8j+S4uu+8mltcIlvmoIforrDlkI0xXVwi77yMXCJb5qCH6K6w5ZCNMl1cIi4uLl1cbiAgICBoaWRlU3ltYm9sczogW1wiW+aooeadv11cIiwgXCJb5pyq5a6M5oiQXVwiXSxcbiAgICAvLyDmgLvku5PlupPmm7TmlrDlnLDlnYBcbiAgICByZW1vdGVEZXBvdFJ1bGVVcmw6IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L3Jhdy9tYXN0ZXIvcnVsZXZlcnNpb24vZGVwb3RSdWxlX3YyX3JlbGVhc2UuanNvblwiLFxufTtcbi8vIOiLpeS4jeaYr+esrOS4gOasoeS9v+eUqOaAu+S7k+W6k+WImemakOiXj+W8gOWPkeaWh+aho1xudmFyIGRlcG90U3RhdHVzID0ge1xuICAgIC8vIOatpOWkhOaJgOaciemFjee9rumDveS8muiiq+S4i+aWueimhueblu+8jOivt+enu+atpeS4i+aWuemFjee9riBkZXBvdFN0YXR1cy54eHggPSB4eHg7XG59O1xudmFyIGRlcG90U2V0dGluZ3MgPSB7XG59O1xudmFyIHN0YXR1c0NhY2hlRmlsZSA9ICBcImhpa2VyOi8vZmlsZXMvXCIgKyBtUnVsZS50aXRsZSArIFwiX1wiICsgbVJ1bGUuYXV0aG9yICsgXCIuanNvblwiO1xuLy8g5LuT5bqT54q25oCB57yT5a2Y5paH5Lu25Zyw5Z2AXG52YXIgc3RhdHVzQ2FjaGVGaWxlID0gc3RhdHVzQ2FjaGVGaWxlICE9IG51bGwgJiYgc3RhdHVzQ2FjaGVGaWxlICE9IFwiXCIgPyBzdGF0dXNDYWNoZUZpbGUgOiBcImhpa2VyOi8vZmlsZXMvXCIgKyBtUnVsZS50aXRsZSArIFwiX1wiICsgbVJ1bGUuYXV0aG9yICsgXCIuanNvblwiO1xuLy8g5Li+5L6LIGhpa2VyOi8vZmlsZXMvZGVwb3RTdGF0dXNfdjIuanNvblxucHV0VmFyKHtrZXk6ICdzdGF0dXNDYWNoZUZpbGUnLCB2YWx1ZTogc3RhdHVzQ2FjaGVGaWxlfSk7XG5cbnZhciBkZXBvdFN0YXR1c0ZpbGUgPSBmZXRjaChzdGF0dXNDYWNoZUZpbGUsIHt9KTtcbmlmIChkZXBvdFN0YXR1c0ZpbGUgIT0gXCJcIikge1xuICAgIGV2YWwoXCJkZXBvdFN0YXR1cz1cIiArIGRlcG90U3RhdHVzRmlsZSk7XG59XG4vLyDku5PlupPphY3nva7ov5znqIvlnLDlnYDvvIzor7foh6rooYzphY3nva5cbi8vIOS4vuS+i++8mmh0dHBzOi8vZ2l0ZWUuY29tL1JlYm9ybl8wL0hpa2VyUnVsZXNEZXBvdC9yYXcvbWFzdGVyL2RlcG90X3YyX3NldHRpbmdzLmpzb25cbmRlcG90U3RhdHVzLnNldHRpbmdzUmVtb3RlRmlsZSA9IFwiXCI7XG5cbi8vIOiLpemcgOimgeawuOS5heaYvuekuuW8gOWPkeaWh+aho++8jOWImeWPlua2iOazqOmHilxuLy8gZGVwb3RTdGF0dXMuc2hvd0RldkRvYyA9IHRydWU7XG4vLyDoi6XpnIDopoHmsLjkuYXmmL7npLrmj5DnpLrvvIzliJnlj5bmtojms6jph4pcbi8vIGRlcG90U3RhdHVzLnNob3dUaXBzID0gdHJ1ZTtcbi8vIOiLpemcgOimgeawuOS5heaYvuekuuS+i+WtkO+8jOWImeWPlua2iOazqOmHilxuLy8gZGVwb3RTdGF0dXMuc2hvd0V0YyA9IHRydWU7XG5cbmZ1bmN0aW9uIHdyaXRlT2JqZWN0VG9GaWxlKGZpbGVVcmwsIG9iamVjdCkge1xuICAgIHdyaXRlRmlsZShmaWxlVXJsLCBKU09OLnN0cmluZ2lmeShvYmplY3QpKTtcbn1cblxuLy8g5oqK5oC75LuT5bqT54q25oCB5YaZ5YWl5paH5Lu2XG5mdW5jdGlvbiB3cml0ZURlcG90U3RhdHVzVG9GaWxlKGRlcG90U3RhdHVzKSB7XG4gICAgd3JpdGVPYmplY3RUb0ZpbGUoc3RhdHVzQ2FjaGVGaWxlLCBkZXBvdFN0YXR1cyk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlU2V0dGluZ3NUb0ZpbGUoc2V0dGluZ3MpIHtcbiAgICBkZXBvdFNldHRpbmdzLmZpbmRfcnVsZV9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHdyaXRlT2JqZWN0VG9GaWxlKHNldHRpbmdzQ2FjaGVGaWxlLCBkZXBvdFNldHRpbmdzKTtcbn1cblxuLy8g5ZCI5bm25a+56LGhXG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBmb3IgKHZhciBvYmogaW4gc291cmNlKSB7XG4gICAgICAgIHRhcmdldFtvYmpdID0gc291cmNlW29ial07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGdldFNldHRpbmdzQ29udGVudChzZXR0aW5nc0ZpbGVVcmwsIGlzUmVtb3RlKSB7XG4gICAgaWYgKHNldHRpbmdzRmlsZVVybCA9PSBcIlwiKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHNldHRpbmdzQ2FjaGVGaWxlQ29udGVudCA9IGZldGNoKHNldHRpbmdzRmlsZVVybCwge30pO1xuICAgIGlmIChzZXR0aW5nc0NhY2hlRmlsZUNvbnRlbnQgIT0gbnVsbCAmJiBzZXR0aW5nc0NhY2hlRmlsZUNvbnRlbnQgIT0gXCJcIikge1xuICAgICAgICBldmFsKFwidmFyIHNldHRpbmdzVGVtcD1cIiArIHNldHRpbmdzQ2FjaGVGaWxlQ29udGVudCk7XG4gICAgICAgIGlmIChzZXR0aW5nc1RlbXAuZmluZF9ydWxlX3NldHRpbmdzICE9IG51bGwgJiYgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3NUZW1wLmZpbmRfcnVsZV9zZXR0aW5ncykgIT0gXCJ7fVwiKSB7XG4gICAgICAgICAgICBkZXBvdFNldHRpbmdzID0gc2V0dGluZ3NUZW1wO1xuICAgICAgICAgICAgZXh0ZW5kKHNldHRpbmdzLCBzZXR0aW5nc1RlbXAuZmluZF9ydWxlX3NldHRpbmdzKTtcbiAgICAgICAgICAgIGlmIChpc1JlbW90ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzTUQ1Tm93ID0gQ3J5cHRvSlMuTUQ1KEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLkhleCk7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzTUQ1Tm93ICE9IGRlcG90U3RhdHVzLmNhY2hlRmluZFJ1bGVTZXR0aW5nc01ENSkge1xuICAgICAgICAgICAgICAgICAgICBkZXBvdFN0YXR1cy5jYWNoZUZpbmRSdWxlU2V0dGluZ3NNRDUgPSBzZXR0aW5nc01ENU5vdztcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlU2V0dGluZ3NUb0ZpbGUoc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIOWFiOivu+acrOWcsOWGjeivu+i/nOeoi++8jOi/nOeoi+eCuOS6hueUqOacrOWcsO+8jOacrOWcsOeCuOS6hueUqOm7mOiupO+8m+acrOWcsOe8k+WtmOi/nOeoi+aXtuWFiOavlOWvuW1kNeS4jeS4gOiHtOWGjee8k+WtmFxuaWYgKG5lZWRDYWNoZVNldHRpbmcgPT0gdHJ1ZSkgZ2V0U2V0dGluZ3NDb250ZW50KHNldHRpbmdzQ2FjaGVGaWxlLCBmYWxzZSk7XG5nZXRTZXR0aW5nc0NvbnRlbnQoZGVwb3RTdGF0dXMuc2V0dGluZ3NSZW1vdGVGaWxlLCB0cnVlKTtcblxudmFyIHJlbW90ZUF1dGhvckxpc3QgPSBbXTtcbnRyeSB7XG4gICAgZXZhbChcInJlbW90ZUF1dGhvckxpc3Q9XCIgKyBmZXRjaChzZXR0aW5ncy5yZW1vdGVBdXRob3JMaXN0VXJsLCB7fSkpO1xufSBjYXRjaCAoZSkge1xufVxuQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MuYXV0aG9yTGlzdCwgcmVtb3RlQXV0aG9yTGlzdCk7XG5pZiAoc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbS5sZW5ndGggIT0gMCkgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MuYXV0aG9yTGlzdCwgc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbSk7XG5cbmZ1bmN0aW9uIGlzSGlkZVJ1bGUocnVsZVRpdGxlKSB7XG4gICAgaWYgKHNldHRpbmdzLm5lZWRIaWRlUnVsZSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gaWYgKGhpZGVTeW1ib2xzLmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJ1bGVUZW1wID0gcnVsZVRpdGxlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0dGluZ3MuaGlkZVN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJ1bGVUZW1wLmluZGV4T2Yoc2V0dGluZ3MuaGlkZVN5bWJvbHNbaV0pICE9IC0xKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5kLnB1c2goe1xuICAgIHRpdGxlOiBcIuasoui/juadpeWIsOinhueVjOaAu+S7k+W6k1wiLFxuICAgIGRlc2M6IFwi5Zyo6L+Z6YeM77yM5L2g5Y+v5Lul55WF5ri45ZCE5Liq5aSn5L2s55qE6KeE5YiZ77yM5b+r6YCf5rWP6KeI5b+r6YCf5a+85YWlXCIsXG4gICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG59KTtcblxuaWYgKGRlcG90U3RhdHVzLnNob3dUaXBzICE9IGZhbHNlKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi6aaW5qyh5a+85YWl5o+Q56S6XFxu4oCY4oCYKOS7heaYvuS4gOasoSnigJnigJlcIixcbiAgICAgICAgZGVzYzogXCLigJjigJjkuIvmi4nliLfmlrDljbPlj6/mmL7npLrku5PlupPigJnigJlcIiArIFwiXFxu6KeE5YiZ6YeM5pyJ5aW95aSa6ZqQ6JeP55qE5byA5YWz5ZOm77yBXCIgKyBcIlxcbuKAmOKAmOaPkOS+m+eahOS+i+WtkOS5n+S7heaYvuS4gOasoeKAmeKAmVwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KTtcbiAgICBkZXBvdFN0YXR1cy5zaG93VGlwcyA9IGZhbHNlO1xuICAgIHdyaXRlRGVwb3RTdGF0dXNUb0ZpbGUoZGVwb3RTdGF0dXMpO1xufSBlbHNlIHtcblxuICAgIGlmIChkZXBvdFN0YXR1cy5zaG93RXRjICE9IGZhbHNlIHx8IG1SdWxlLnZlcnNpb24gIT0gZGVwb3RTdGF0dXMudmVyc2lvbikge1xuICAgICAgICBkZXBvdFN0YXR1cy5zaG93RXRjID0gZmFsc2U7XG4gICAgICAgIHdyaXRlRGVwb3RTdGF0dXNUb0ZpbGUoZGVwb3RTdGF0dXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHRpbmdzLmhpZGVTeW1ib2xzLnB1c2goXCJb5L6L5a2QXVwiKTtcbiAgICB9XG5cbiAgICBpZiAoZGVwb3RTdGF0dXMuc2hvd0RldkRvYyAhPSBmYWxzZSB8fCBtUnVsZS52ZXJzaW9uICE9IGRlcG90U3RhdHVzLnZlcnNpb24pIHtcbiAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBcIuOAkOWkp+S9rOmAmumBk+OAkVxcbuKAmOKAmCjku4XmmL7kuIDmrKEp4oCZ4oCZXCIsXG4gICAgICAgICAgICBkZXNjOiBcIuKAmOKAmOeCueWHu+afpeeci1Yy5oC75LuT5bqT5byA5Y+R5paH5qGj4oCZ4oCZXFxu6KeE5YiZ6YeM5pyJ5rC45LmF5pi+56S65byA5YWz5Y+v5Lul6Ieq5bex5Y675byAXCIsXG4gICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlc0RlcG90L2Jsb2IvbWFzdGVyL1JFQURNRS5tZCNkb2N1bWVudD1odHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kXCIsXG4gICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGRlcG90U3RhdHVzLnNob3dEZXZEb2MgPSBmYWxzZTtcbiAgICAgICAgd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cyk7XG4gICAgfVxuXG4gICAgaWYgKG1SdWxlLnZlcnNpb24gIT0gZGVwb3RTdGF0dXMudmVyc2lvbikge1xuICAgICAgICBkZXBvdFN0YXR1cy52ZXJzaW9uID0gbVJ1bGUudmVyc2lvbjtcbiAgICAgICAgd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cyk7XG4gICAgfVxuXG4gICAgdmFyIGRlc2MgPSBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICByZXR1cm4gcnVsZS5vbGRWZXJzaW9uICE9IG51bGwgJiYgcnVsZS5vbGRWZXJzaW9uIDwgcnVsZS52ZXJzaW9uID8gKFwi4oCY4oCY5pyJ5paw54mI5pys77yaXCIgKyBydWxlLnZlcnNpb24gKyBcIuKAmeKAme+8jOeCueWHu+WvvOWFpeaWsOeJiOacrFwiKSA6IHJ1bGUub2xkVmVyc2lvbiA+IHJ1bGUudmVyc2lvbiA/IFwi4oCY4oCY5Za177yf5Li65ZWl5L2g55qE6KeE5YiZ54mI5pys5q+U5oiR6L+Y6auY77yf4oCZ4oCZXCIgOiBcIuW9k+WJjeinhOWImeW3suaYr+acgOaWsOeJiO+8jOeCueWHu+i3s+WIsOinhOWImemhtVwiO1xuICAgIH07XG5cbiAgICAvLyDkuLrmiYDmnInliIbnsbvmt7vliqDmgLvku5PlupPpoblcbiAgICB0cnkge1xuICAgICAgICB2YXIgcmVtb3RlRGVwb3RSdWxlID0ge307XG4gICAgICAgIGV2YWwoXCJyZW1vdGVEZXBvdFJ1bGU9XCIgKyBmZXRjaChzZXR0aW5ncy5yZW1vdGVEZXBvdFJ1bGVVcmwsIHt9KSk7XG4gICAgICAgIHZhciBsb2NhbERlcG90UnVsZSA9IEpTT04ucGFyc2UoZ2V0UnVsZSgpKTtcbiAgICAgICAgcmVtb3RlRGVwb3RSdWxlLm9sZFZlcnNpb24gPSBsb2NhbERlcG90UnVsZS52ZXJzaW9uO1xuICAgICAgICAvL3NldEVycm9yKEpTT04uc3RyaW5naWZ5KGxvY2FsRGVwb3RSdWxlKSk7XG4gICAgICAgIC8vc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkocmVtb3RlRGVwb3RSdWxlKSk7XG4gICAgICAgIGlmIChyZW1vdGVEZXBvdFJ1bGUub2xkVmVyc2lvbiA8IHJlbW90ZURlcG90UnVsZS52ZXJzaW9uKSB7XG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiByZW1vdGVEZXBvdFJ1bGUudGl0bGUgKyBcIlxcdFwiICsgZGVzYyhyZW1vdGVEZXBvdFJ1bGUpLFxuICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNcIiArIEpTT04uc3RyaW5naWZ5KHJlbW90ZURlcG90UnVsZSkgfHwgXCJcIixcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCLjgJDmm7TmlrDml6Xlv5fjgJFcXG7mm7TlpJrlrozmlbTml6Xlv5for7flnKjph4zpnaLngrnlh7vov5vlhaXljp/nvZHpobXmn6XnnItcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkWzBdLmRlc2MgPSBcIuKAmOKAmOeCueWHu+WPr+afpeeci+abtOaWsOaXpeW/l+WSjOW8gOWPkeaWh+aho+KAmeKAmTxicj5cIiArIGRbMF0uZGVzYztcbiAgICAgICAgICAgIGRbMF0udXJsID0gXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvYmxvYi9tYXN0ZXIvcnVsZXZlcnNpb24vQ0hBTkdFTE9HX0RFUE9UUlVMRV9WMi5tZCN1cGRhdGVUZXh0PVwiICsgcmVtb3RlRGVwb3RSdWxlLnVwZGF0ZVRleHRcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBcIuKAmOKAmOaAu+S7k+W6k+abtOaWsOeoi+W6j+W3suaNn+Wdj+KAmeKAmVwiLFxuICAgICAgICAgICAgZGVzYzogXCLor7fogZTns7sgXCIgKyBtUnVsZS5hdXRob3IgKyBcIiDkv67lpI1cIixcbiAgICAgICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIixcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5hdXRob3JMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0hpZGVSdWxlKHNldHRpbmdzLmF1dGhvckxpc3RbaV0pKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5hdXRob3JMaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwaWNVcmwgPSBudWxsO1xuICAgICAgICB2YXIgcGljVXJsSlMgPSBzZXR0aW5ncy5hdXRob3JMaXN0W2ldLm1hdGNoKC9waWNVcmw9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICAgICAgZXZhbChwaWNVcmxKUyk7XG4gICAgICAgIGlmIChwaWNVcmwgPT0gbnVsbCkgcGljVXJsID0gc2V0dGluZ3MucGljVXJsTGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzZXR0aW5ncy5waWNVcmxMaXN0Lmxlbmd0aCldO1xuICAgICAgICAvLyBzZXRFcnJvcihwaWNVcmwpXG4gICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogc2V0dGluZ3MuYXV0aG9yTGlzdFtpXS5zcGxpdChcIkBAXCIpWzBdLFxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vYmFpZHUuY29tI1wiICsgc2V0dGluZ3MuYXV0aG9yTGlzdFtpXSxcbiAgICAgICAgICAgIHBpY191cmw6IHBpY1VybFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIHNldEVycm9yKEpTT04uc3RyaW5naWZ5KGQpKTtcbnJlcy5kYXRhID0gZDtcbnNldEhvbWVSZXN1bHQocmVzKTsiLCJzZWFyY2hfdXJsIjoiaGlrZXI6Ly9ob21lIyoqI2Z5cGFnZSIsInRpdGxlQ29sb3IiOiIjZmZmMjBjMDAiLCJncm91cCI6IiPvuI/ig6PpppbpobUiLCJzZWFyY2hGaW5kIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xudmFyIGtleSA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXTtcbi8vIGtleSA9IFwi5b2x6KeGXCI7XG52YXIgcGFnZSA9IDE7XG50cnkgeyBcbiAgIHBhZ2UgPSBwYXJzZUludChnZXRVcmwoKS5zcGxpdChcIiNcIilbMl0pO1xufVxuY2F0Y2ggKGUpIHsgfVxudmFyIHBhZ2VTaXplID0gcGFnZSAqIDU7XG4vKmQucHVzaCh7XG4gICAgdGl0bGU6IFwicGFnZTogXCIgKyBwYWdlLFxuICAgIGRlc2M6IFwicGFnZVNpemU6IFwiKyBwYWdlU2l6ZSArIFwiIHBhZ2VBZGQ6IFwiKyBwYWdlQWRkXG59KTsqL1xuXG5pZiAoa2V5ICE9IG51bGwgJiYga2V5ICE9IFwiXCIpIHtcbiAgICB2YXIgcmVnRXhwID0gbmV3IFJlZ0V4cChcIlteXSpcIitrZXkrXCJbXl0qXCIpO1xuICAgIC8vIOS7k+W6k+S4quaAp+iuvue9rlxuICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgLy8g5Zyo6L+Z6YeM5re75Yqg5LuT5bqT6YWN572u77yM5Y+v5L2/5pys5Zyw5re75Yqg55qE5LuT5bqT572u6aG2XG4gICAgICAgIGF1dGhvckxpc3Q6IFtcbiAgICAgICAgICAgLy8gXCJb5L6L5a2QXee9rumhtuengeS6uuS7k+W6k0BAUmVib3JuXzBAQEhpa2VyUnVsZXNQcml2YWN5QEBhY2Nlc3NfdG9rZW49JyoqKionXCIsXG4gICAgICAgICAgIC8vIFwiW+S+i+WtkF3oh6rlrprkuYnmlofku7blkI1AQFJlYm9ybl8wQEBIaWtlclJ1bGVzRGVwb3RAQHJlbW90ZUZpbGVuYW1lPSd1cGRhdGVfMS5qc29uJ1wiXG4gICAgICAgIF0sXG4gICAgICAgIHJlbW90ZUF1dGhvckxpc3RVcmw6IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L3Jhdy9tYXN0ZXIvcnVsZXZlcnNpb24vYXV0aG9yTGlzdC5qc29uXCIsXG4gICAgICAgIC8vIOWcqOi/memHjOa3u+WKoOS7k+W6k+mFjee9ru+8jOWPr+S9v+acrOWcsOa3u+WKoOeahOS7k+W6k+e9ruW6lVxuICAgICAgICBhdXRob3JMaXN0Qm90dG9tOiBbXG4gICAgICAgICAgIC8vIFwiW+S+i+WtkF3nva7lupXmnKzlnLDku5PlupNAQFJlYm9ybl8wQEBIaWtlclJ1bGVzUHJpdmFjeVwiXG4gICAgICAgIF0sXG4gICAgfTtcblxuICAgIC8vIOaQnOe0ouino+aekOaAnei3r++8mlxuICAgIC8vIOiOt+WPluaQnOe0oumTvuaOpeS4reeahCoq77yM54S25ZCO5b6q546v6YGN5Y6G5q+P5LiA5Liq5LuT5bqT55qE6KeE5YiZ77yM5q2j5YiZ5qih57OK5Yy56YWN5Yiw5LiN5Li656m655qE5bCx5Yqg5YWl5pCc57Si57uT5p6cXG4gICAgdmFyIHJlbW90ZUF1dGhvckxpc3QgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBldmFsKFwicmVtb3RlQXV0aG9yTGlzdD1cIiArIGZldGNoKHNldHRpbmdzLnJlbW90ZUF1dGhvckxpc3RVcmwsIHt9KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZXR0aW5ncy5hdXRob3JMaXN0LCByZW1vdGVBdXRob3JMaXN0KTtcbiAgICBpZiAoc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbS5sZW5ndGggIT0gMCkgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MuYXV0aG9yTGlzdCwgc2V0dGluZ3MuYXV0aG9yTGlzdEJvdHRvbSk7XG5cbiAgICAvLyDnqbrpl7TmjaLml7bpl7QsIG5eMi0+Mm7vvJ/omb3nhLZBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseeWPr+iDveS5n+aYr+S4gOS4qm7vvJ/vvIjkvZPpqozkuIrmsqHmhJ/op4nlv6vlpJrlsJHvvIzmr5Xnq5/pgqPkuKpmZXRjaOWkquWkmuS6hi4uLu+8iVxuICAgIHZhciBtUmVtb3RlUnVsZXMgPSBbXTtcbiAgICAvLyAxLuaLv+WIsOS7k+W6k1xuICAgIGZvciAodmFyIGkgPSAocGFnZS0xKSAqIDU7IGkgPCBzZXR0aW5ncy5hdXRob3JMaXN0Lmxlbmd0aCAmJiBpIDwgcGFnZVNpemU7IGkrKykge1xuICAgICAgIC8vIGlmIChpIDwgcGFnZVNpemUpIGJyZWFrO1xuICAgICAgICB2YXIgYXV0aG9yTGlzdCA9IHNldHRpbmdzLmF1dGhvckxpc3RbaV07XG4gICAgICAgIHZhciBhdXRob3JBbmRPd25lckFuZFByb2plY3QgPSBhdXRob3JMaXN0LnNwbGl0KFwiQEBcIik7XG4gICAgICAgIHZhciBhdXRob3IgPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMF07XG4gICAgICAgIHZhciByZW1vdGVVcmwgPSBcIlwiO1xuXG4gICAgICAgIHZhciBhcGlUeXBlID0gXCIxXCI7ICAvLyAwIOS4uuaWh+S7tuebtOmTvu+8jDEg5Li656CB5LqRQVBJXG4gICAgICAgIHZhciBhcGlUeXBlSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9hcGlUeXBlPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgICAgIGV2YWwoYXBpVHlwZUpTKTtcbiAgICAgICAgaWYgKGFwaVR5cGUgPT0gbnVsbCkgYXBpVHlwZSA9IFwiMVwiO1xuXG4gICAgICAgIGlmIChhcGlUeXBlID09IFwiMFwiKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFVybCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgZnVsbFVybEpTID0gYXV0aG9yTGlzdC5tYXRjaCgvZnVsbFVybD0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgICAgICAgICAgZXZhbChmdWxsVXJsSlMpO1xuICAgICAgICAgICAgcmVtb3RlVXJsID0gZnVsbFVybDtcbiAgICAgICAgfSBlbHNlIGlmIChhcGlUeXBlID09IFwiMVwiKSB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlQXBpSG9tZSA9IFwiaHR0cHM6Ly9naXRlZS5jb20vYXBpL3Y1L3JlcG9zL1wiO1xuICAgICAgICAgICAgdmFyIG93bmVyID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzFdOyAgIC8vIOS7k+W6k+aLpeacieiAhVxuICAgICAgICAgICAgdmFyIHJlcG8gPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMl07IC8vIOS7k+W6k+WQjVxuICAgICAgICAgICAgdmFyIHJlbW90ZUZpbGVuYW1lID0gbnVsbDsgLy8g5paH5Lu25ZCNXG4gICAgICAgICAgICB2YXIgcGF0aCA9IHJlbW90ZUZpbGVuYW1lOyAgLy8g5Zyo5LuT5bqT5Lit5paH5Lu255qE6Lev5b6EXG4gICAgICAgICAgICB2YXIgYWNjZXNzX3Rva2VuID0gbnVsbDsgIC8vIOeUqOaIt+aOiOadg+egge+8jOWcqOeggeS6kVwi6K6+572u4oCUPuWuieWFqOiuvuWumi0+5Liq5Lq66K6/6Zeu5Luk54mMXCLkuK3lj6/ku6XnlJ/miJBcbiAgICAgICAgICAgIHZhciB0b2tlbkpTID0gYXV0aG9yTGlzdC5tYXRjaCgvYWNjZXNzX3Rva2VuPS5bXFxzXFxTXSo/Jy8pICsgXCI7XCI7XG4gICAgICAgICAgICBldmFsKHRva2VuSlMpO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IoYWNjZXNzX3Rva2VuPT1udWxsKTtcbiAgICAgICAgICAgIHZhciByZW1vdGVGaWxlbmFtZUpTID0gYXV0aG9yTGlzdC5tYXRjaCgvcmVtb3RlRmlsZW5hbWU9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICAgICAgICAgIGV2YWwocmVtb3RlRmlsZW5hbWVKUyk7XG4gICAgICAgICAgICBpZiAocmVtb3RlRmlsZW5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlbW90ZUZpbGVuYW1lID0gXCJ1cGRhdGUuanNvblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aCA9IHJlbW90ZUZpbGVuYW1lO1xuICAgICAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlRmlsZW5hbWUpXG4gICAgICAgICAgICAvLyBBUEnpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3Mve3tvd25lcn19L3t7cmVwb319L2NvbnRlbnRzL3t7cGF0aH19P2FjY2Vzc190b2tlbj0qKioqXG4gICAgICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVBcGlIb21lICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9jb250ZW50cy9cIiArIHBhdGg7XG4gICAgICAgICAgICBpZiAoYWNjZXNzX3Rva2VuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVVcmwgKyBcIj9hY2Nlc3NfdG9rZW49XCIgKyBhY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXRFcnJvcihyZW1vdGVVcmwpO1xuICAgICAgICAgICAgLy8gdmFyIHJlbW90ZUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL1wiICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9ibG9iL21hc3Rlci91cGRhdGUuanNvblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFyIHJlbW90ZVVybCA9IHJlbW90ZUFwaUhvbWUgKyBlbmNvZGVVUklDb21wb25lbnQoYXV0aG9yKSArIFwiL1wiICsgcmVtb3RlRmlsZW5hbWU7XG4gICAgICAgIHZhciByZW1vdGVTb3VyY2UgPSBmZXRjaChyZW1vdGVVcmwsIHt9KTtcbiAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVTb3VyY2U9XCIgKyByZW1vdGVTb3VyY2UpO1xuICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVzID0gcmVtb3RlU291cmNlO1xuICAgICAgICAgICAgaWYgKGFwaVR5cGUgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgICAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVSdWxlcz1cIiArIGJhc2U2NERlY29kZShyZW1vdGVTb3VyY2UuY29udGVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbW90ZVJ1bGVzLmRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG1SZW1vdGVSdWxlcywgcmVtb3RlUnVsZXMuZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG1SZW1vdGVSdWxlcywgcmVtb3RlU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qaWYobVJlbW90ZVJ1bGVzLmxlbmd0aCA8IHBhZ2UgKiA4KSB7XG4gICAgICAgICAgICAgICAgIHBhZ2UrKztcbiAgICAgICAgICAgICAgICAgcGFnZVNpemUgPSBwYWdlICogNTtcbiAgICAgICAgICAgICAgICAgcGFnZUFkZCsrO1xuICAgICAgICAgICAgICAgICBwdXRWYXIoe2tleTogJ3BhZ2VBZGQnLCB2YWx1ZTogcGFnZUFkZH0pO1xuICAgICAgICAgICAgfSovXG4gICAgICAgIH1jYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIDIu5ou/5Yiw5Y2V5Liq5LuT5bqT55qE6KeE5YiZ5YiX6KGoXG4gICAgaWYgKG1SZW1vdGVSdWxlcy5sZW5ndGggIT0gMCkge1xuICAgICAgICAvLyDmjaLkuKrplKTlrZDnmoTkuozliIbms5XvvIzkuIDlrpropoHpgY3ljobmiYDmnInmlbDmja7nmoTvvIzov5nmoLfpobblpJrmmK9PKDEvMiBuKe+8jOW/veeVpeW4uOaVsOi/mOaYr08obinvvIznoa7lrp7kvJrlv6vkuIDkuKLkuKLvvIznqbrpl7TmjaLml7bpl7TnmoTnu5PmnpxcbiAgICAgICAgdmFyIGxlZnQgPSAwO1xuICAgICAgICB2YXIgcmlnaHQgPSBtUmVtb3RlUnVsZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlTGVmdCA9IG1SZW1vdGVSdWxlc1tsZWZ0XTtcbiAgICAgICAgICAgIHZhciByZW1vdGVSdWxlUmlnaHQgPSBtUmVtb3RlUnVsZXNbcmlnaHRdO1xuICAgICAgICAgICAgaWYgKHJlZ0V4cC50ZXN0KHJlbW90ZVJ1bGVMZWZ0LnRpdGxlKSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlbW90ZVJ1bGVMZWZ0LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9iYWlkdS5jb20jXCIgKyByZW1vdGVSdWxlTGVmdC5ydWxlLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiByZW1vdGVSdWxlTGVmdC5hdXRob3IsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi5LqR56uv54mI5pys77yaXCIgKyByZW1vdGVSdWxlTGVmdC52ZXJzaW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVnRXhwLnRlc3QocmVtb3RlUnVsZVJpZ2h0LnRpdGxlKSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlbW90ZVJ1bGVSaWdodC50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vYmFpZHUuY29tI1wiICsgcmVtb3RlUnVsZVJpZ2h0LnJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IHJlbW90ZVJ1bGVSaWdodC5hdXRob3IsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi5LqR56uv54mI5pys77yaXCIgKyByZW1vdGVSdWxlUmlnaHQudmVyc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVmdCsrO1xuICAgICAgICAgICAgcmlnaHQtLTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuaWYoKHBhZ2UpICogNSA8IHNldHRpbmdzLmF1dGhvckxpc3QubGVuZ3RoKSB7XG4gICAgaWYoZC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICB0aXRsZTogXCLmsqHliqDovb3liLDkuJzopb/vvJ/kuI3opoHntKfvvIzkuIrmu5Hlj6/og73mnInmg4rllpzlk6bvvIFcIixcbiAgICAgICAgICAgICBkZXNjOiBcIlBTOiDlj6ropoHmsqHmmL7npLrmnIDlkI7kuIDpobXlsLHov5jmnInluIzmnJvvvIFcIlxuICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgdGl0bGU6IFwi5pyq5Yiw5pyA5ZCO5LiA6aG177yM6K+357un57ut5LiK5ruR5Yqg6L295pu05aSa44CCXCJcbiAgICAgICAgIH0pO1xuICAgIH1cbn0gZWxzZSB7XG4gICAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLlt7LliLDmnIDlkI7kuIDpobVcIlxuICAgICB9KTtcbn1cblxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoZCkpO1xucmVzLmRhdGEgPSBkO1xuc2V0U2VhcmNoUmVzdWx0KHJlcyk7IiwiZGV0YWlsX2NvbF90eXBlIjoidGV4dF8xIiwiZGV0YWlsX2ZpbmRfcnVsZSI6ImpzOlxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcbmV2YWwoZ2V0Q3J5cHRvSlMoKSk7XG5cbi8vIOS7k+W6k+mFjee9ruacrOWcsOe8k+WtmOaWh+S7tlxudmFyIHNldHRpbmdzQ2FjaGVGaWxlID0gXCJoaWtlcjovL2ZpbGVzL2RlcG90X3YyX3NldHRpbmdzLmpzb25cIjtcbi8vIOacrOWcsOe8k+WtmOW8gOWFs1xudmFyIG5lZWRDYWNoZVNldHRpbmcgPSB0cnVlO1xuXG4vLyDku5PlupPkuKrmgKforr7nva5cbnZhciBzZXR0aW5ncyA9IHtcbiAgICAvLyDorr7nva4gdHJ1ZSDkuIDplK7lh4DljJbvvIzpmaTkuobop4TliJnlkozku5PlupPpgJrnn6XvvIzllaXkuZ/kuI3opoFcbiAgICBoaWRlQWxsOiBmYWxzZSxcbiAgICAvLyDlsI/ku5PlupPmoIfpopjlvIDlhbPvvIjms6jmhI/kuovpobnkuIrpnaLpgqPkuKrvvInvvIzkuI3pnIDopoHmmL7npLror7forr7nva7kuLp0cnVlXG4gICAgbm9UaXRsZTogdHJ1ZSxcbiAgICAvLyDms6jmhI/kuovpobnlvIDlhbPvvIzkuI3pnIDopoHmmL7npLror7forr7nva7kuLp0cnVlXG4gICAgbm9XYXJuaW5nOiBmYWxzZSxcbiAgICAvLyDop4TliJnmlbDph4/mmL7npLrlvIDlhbPvvIzkuI3pnIDopoHmmL7npLror7forr7nva7kuLp0cnVlXG4gICAgbm9SdWxlc051bTogZmFsc2UsXG4gICAgLy8g5piv5ZCm5YWB6K646LaF6L+H5LiA5a6a6KeE5YiZ5pWw5ZCO5pS55Y+Y5pi+56S65qC35byP77yM6buY6K6k5LiN5byA5ZCvXG4gICAgbmVlZENoYW5nZVNob3dUeXBlOiBmYWxzZSxcbiAgICAvLyDorr7nva7mnIDlpKfmmL7npLrlrozmlbTmlofmnKznmoTop4TliJnmlbDvvIzlpKfkuo7orr7nva7lgLzliJnmmL7npLrkuLrmjInpkq7moLflvI8o6buY6K6kIHRleHRfMilcbiAgICBzaG93RnVsbFRleHRNYXg6IDEwLFxuICAgIC8vIOiuvue9rui2hei/h+WFgeiuuOaYvuekuuWujOaVtOaWh+acrOeahOinhOWImeaVsOWQjuaYvuekuueahOagt+W8j1xuICAgIG92ZXJNYXhTaG93VHlwZTogXCJ0ZXh0XzJcIixcbiAgICAvKipcbiAgICAgKiDop4TliJnmmKDlsITliJfooahcbiAgICAgKiDlt6bmnKzlnLDvvIzlj7Pov5znq6/vvIzmnKzlnLDmmKDlsITkuLrov5znq6/vvIzovr7liLDmm7/mjaLlhoXlrrnnmoTnm67nmoRcbiAgICAgKiDpnIDopoHlhajlkI3ljLnphY3pnIDopoHlnKjmmKDlsITooajkuK3liqDlhaV7IFwibWF0Y2hBbGxcIjogdHJ1ZSB9XG4gICAgICog77yI5rOo5oSP77yM56iL5bqP6YC76L6R5Li65YWI5pig5bCE5ZCO5omn6KGM5LiL6Z2i55qE5Yig6Zmk5qCH6K6w77yJXG4gICAgICovXG4gICAgcnVsZXNNYXBwaW5nOiBbXG4gICAgICAgIC8vIFt7XCJ0aXRsZVwiOiBcIuWXqOWThuWSqlwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1widGl0bGVcIjogXCLll6jlk5rlkqrlvbHop4ZcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcIm1hdGNoQWxsXCI6IHRydWV9XSxcbiAgICAgICAgLy8gW3tcInRpdGxlXCI6IFwi6aKE5ZGK54mHXCIsIFwiYXV0aG9yXCI6IFwiUmVib3JuXCJ9LCB7XCJ0aXRsZVwiOiBcIumihOWRiueJhyg/PeKAolJlKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifV0sXG4gICAgICAgIC8vIFt7XCJ0aXRsZVwiOiBcIumihOWRiueJh+KAolRcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn0sIHtcInRpdGxlXCI6IFwi6aKE5ZGK54mH4oCiUmVcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn1dLFxuICAgICAgICAvLyBbe1widGl0bGVcIjogXCIuKj8oPz3igKJUKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1widGl0bGVcIjogXCIuKj8oPz3igKJSZSlcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn1dLFxuICAgICAgICAvLyBbe1widGl0bGVcIjogXCIuKj8oPz3igKJCKVwiLCBcImF1dGhvclwiOiBcIlJlYm9yblwifSwge1widGl0bGVcIjogXCIuKj8oPz3igKJSZSlcIiwgXCJhdXRob3JcIjogXCJSZWJvcm5cIn1dXG4gICAgXSxcbiAgICAvLyDkupHnq6/op4TliJnmmKDlsITliJfooajpk77mjqXvvIzlhoXlrrnmoLzlvI/mmK9KU09O5pWw57uE77yM6K+36Ieq5bex6K6+572uXG4gICAgcmVtb3RlUnVsZXNNYXBwaW5nVXJsOiBcIlwiLFxuICAgIC8vIOWFpeaIj+W8gOWFs++8n++8iOa7keeove+8iS8vIOWIoOmZpOW8gOWFs++8jOS4jemcgOimgeWIoOmZpOivt+iuvue9ruS4umZhbHNlXG4gICAgbmVlZERlbFN5bWJvbDogdHJ1ZSxcbiAgICAvLyDoh6rooYzmt7vliqDopoHooqvliKDmjonnmoTmoIforrBcbiAgICBzeW1ib2xzOiBbXCLmoIforrAxXCIsIFwi5qCH6K6wMlwiXSxcbiAgICAvLyDpmpDol4/lvIDlhbPvvIzkuI3pnIDopoHpmpDol4/or7forr7nva7kuLpmYWxzZVxuICAgIG5lZWRIaWRlUnVsZTogdHJ1ZSxcbiAgICAvLyDoh6rooYzmt7vliqDopoHpmpDol4/nmoTmoIforrDvvIzmoLzlvI/kuLrvvJpb5qCH6K6w5ZCNXVxuICAgIGhpZGVTeW1ib2xzOiBbXCJb5qih5p2/XVwiLCBcIlvmnKrlrozmiJBdXCJdLFxuICAgIC8vIOaYr+WQpumakOiXj+S+i+WtkO+8jOmcgOimgemakOiXj+ivt+iuvue9ruS4unRydWVcbiAgICBuZWVkSGlkZUV0YzogZmFsc2UsXG5cbiAgICAvLyDoi6XpnIDopoHlhbPpl63lv73nlaXmnKzmrKHmm7TmlrDor7forr7nva7kuLp0cnVlXG4gICAgbm9JZ25vcmVVcGRhdGU6IGZhbHNlLFxuICAgIC8vIOacrOWcsOW/veeVpeabtOaWsOWIl+ihqO+8jFxuICAgIC8vIOWGheWuueaooeadv+S4uiB7dGl0bGU6IFwi6KeE5YiZ5ZCNXCIsIGF1dGhvcjogXCLop4TliJnkvZzogIVcIn1cbiAgICBpZ25vcmVVcGRhdGVSdWxlTGlzdDogW1xuICAgICAgICAvLyB7dGl0bGU6IFwi6aKE5ZGK54mH4oCiUmVcIiwgYXV0aG9yOiBcIlJlYm9yblwifSxcbiAgICBdLFxuICAgIC8vIOS6keerr+W/veeVpeabtOaWsOWIl+ihqOmTvuaOpe+8jOagvOW8j+aYr0pTT07mlbDnu4TvvIzor7foh6rlt7Horr7nva5cbiAgICByZW1vdGVJZ25vcmVMaXN0VXJsOiBcIlwiLFxuICAgIC8vIOWPguiAg+mTvuaOpe+8mlxuICAgIC8vIGh0dHBzOi8vZ2l0ZWUuY29tL1JlYm9ybl8wL0hpa2VyUnVsZXNEZXBvdC9yYXcvbWFzdGVyL2lnbm9yZVVwZGF0ZVJ1bGVMaXN0Lmpzb25cbiAgICAvLyBodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvcmF3L21hc3Rlci9ydWxldmVyc2lvbi9SZWJvcm4vaWdub3JlVXBkYXRlUnVsZUxpc3QuanNvblxufTtcbi8vIOazqOaEj+S6i+mhueaWh+Wtl1xudmFyIHdhcmluZ1RleHQgPSBcIjEuIOS/neWtmOWQjumcgOimgeaJi+WKqOS4i+aLieWIt+aWsOaJjeiDveabtOaWsOinhOWImeeKtuaAgVwiICsgXCJcXG4yLiDmjInpkq7lvaLnirbnmoTop4TliJnmmK/lpITkuo7mnIDmlrDniYjmnKznmoTvvIzngrnlh7vlj6/ot7Povazoh7Pop4TliJnpobVcIjtcbi8vIOmmluasoeWvvOWFpeaWh+Wtl1xudmFyIGZpcnN0SW1wb3J0VGV4dCA9IFwiMS7igJjigJjkuIvmi4nliLfmlrDljbPlj6/mmL7npLrku5PlupPop4TliJnigJnigJlcIiArIFwiXFxuMi7kuoznuqfop4TliJnkuK0gbmVlZENoYW5nZVNob3dUeXBlIOWPr+iuvue9ruaYvuekuuagt+W8j1wiICsgXCJcXG4zLuS6jOe6p+inhOWImeS4rSBoaWRlQWxsIOWPr+iuvue9ruS4gOmUrumakOiXj+agh+mimOWSjOazqOaEj+S6i+mhuVwiO1xudmFyIHN0YXR1c0NhY2hlRmlsZSA9IGdldFZhcignc3RhdHVzQ2FjaGVGaWxlJyk7XG4vLyDoi6XkuI3mmK/nrKzkuIDmrKHkvb/nlKjmgLvku5PlupPliJnlrZjlgqjku5PlupPnirbmgIFcbnZhciBkZXBvdFN0YXR1cyA9IHtcbiAgICAvLyDmraTlpITmiYDmnInphY3nva7pg73kvJrooqvkuIvmlrnopobnm5bvvIzor7fnp7vmraXkuIvmlrnphY3nva4gZGVwb3RTdGF0dXMueHh4ID0geHh4O1xufTtcbnZhciBkZXBvdFNldHRpbmdzID0ge307XG5cbmlmIChzZXR0aW5ncy5uZWVkSGlkZUV0YyA9PSB0cnVlKSBzZXR0aW5ncy5oaWRlU3ltYm9scy5wdXNoKFwiW+S+i+WtkF1cIik7XG5cbi8vIOS7k+W6k+eKtuaAgee8k+WtmOaWh+S7tuWcsOWdgFxuaWYgKHN0YXR1c0NhY2hlRmlsZSA9PSBudWxsIHx8IHN0YXR1c0NhY2hlRmlsZSA9PSBcIlwiKSBzdGF0dXNDYWNoZUZpbGUgPSBcImhpa2VyOi8vZmlsZXMvZGVwb3RTdGF0dXNfdjIuanNvblwiO1xuLy8g5Li+5L6LIGhpa2VyOi8vZmlsZXMvZGVwb3RTdGF0dXNfdjIuanNvblxuXG52YXIgZGVwb3RTdGF0dXNGaWxlID0gZmV0Y2goc3RhdHVzQ2FjaGVGaWxlLCB7fSk7XG5pZiAoZGVwb3RTdGF0dXNGaWxlICE9IFwiXCIpIHtcbiAgICBldmFsKFwiZGVwb3RTdGF0dXM9XCIgKyBkZXBvdFN0YXR1c0ZpbGUpO1xufVxuXG4vLyDku5PlupPphY3nva7ov5znqIvlnLDlnYDvvIzor7foh6rooYzphY3nva5cbi8vIOS4vuS+i++8mmh0dHBzOi8vZ2l0ZWUuY29tL1JlYm9ybl8wL0hpa2VyUnVsZXNEZXBvdC9yYXcvbWFzdGVyL2RlcG90X3YyX3NldHRpbmdzLmpzb25cbmRlcG90U3RhdHVzLnNldHRpbmdzUmVtb3RlRmlsZSA9IFwiXCI7XG5cbi8vIOiLpemcgOimgeawuOS5heaYvuekuuaPkOekuu+8jOWImeWPlua2iOazqOmHilxuLy8gZGVwb3RTdGF0dXMuc2hvd1NlY29uZExpc3RUaXBzID0gdHJ1ZTtcblxuZnVuY3Rpb24gd3JpdGVPYmplY3RUb0ZpbGUoZmlsZVVybCwgb2JqZWN0KSB7XG4gICAgd3JpdGVGaWxlKGZpbGVVcmwsIEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xufVxuXG4vLyDmiormgLvku5PlupPnirbmgIHlhpnlhaXmlofku7ZcbmZ1bmN0aW9uIHdyaXRlRGVwb3RTdGF0dXNUb0ZpbGUoZGVwb3RTdGF0dXMpIHtcbiAgICB3cml0ZU9iamVjdFRvRmlsZShzdGF0dXNDYWNoZUZpbGUsIGRlcG90U3RhdHVzKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVTZXR0aW5nc1RvRmlsZShzZXR0aW5ncykge1xuICAgIGRlcG90U2V0dGluZ3MuZGV0YWlsX2ZpbmRfcnVsZV9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHdyaXRlT2JqZWN0VG9GaWxlKHNldHRpbmdzQ2FjaGVGaWxlLCBkZXBvdFNldHRpbmdzKTtcbn1cblxuLy8g5ZCI5bm25a+56LGhXG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBmb3IgKHZhciBvYmogaW4gc291cmNlKSB7XG4gICAgICAgIHRhcmdldFtvYmpdID0gc291cmNlW29ial07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGdldFNldHRpbmdzQ29udGVudChzZXR0aW5nc0ZpbGVVcmwsIGlzUmVtb3RlKSB7XG4gICAgaWYgKHNldHRpbmdzRmlsZVVybCA9PSBcIlwiKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHNldHRpbmdzQ2FjaGVGaWxlQ29udGVudCA9IGZldGNoKHNldHRpbmdzRmlsZVVybCwge30pO1xuICAgIGlmIChzZXR0aW5nc0NhY2hlRmlsZUNvbnRlbnQgIT0gbnVsbCAmJiBzZXR0aW5nc0NhY2hlRmlsZUNvbnRlbnQgIT0gXCJcIikge1xuICAgICAgICBldmFsKFwidmFyIHNldHRpbmdzVGVtcD1cIiArIHNldHRpbmdzQ2FjaGVGaWxlQ29udGVudCk7XG4gICAgICAgIGlmIChzZXR0aW5nc1RlbXAuZGV0YWlsX2ZpbmRfcnVsZV9zZXR0aW5ncyAhPSBudWxsICYmIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzVGVtcC5kZXRhaWxfZmluZF9ydWxlX3NldHRpbmdzKSAhPSBcInt9XCIpIHtcbiAgICAgICAgICAgIGRlcG90U2V0dGluZ3MgPSBzZXR0aW5nc1RlbXA7XG4gICAgICAgICAgICBleHRlbmQoc2V0dGluZ3MsIHNldHRpbmdzVGVtcC5kZXRhaWxfZmluZF9ydWxlX3NldHRpbmdzKTtcbiAgICAgICAgICAgIGlmIChpc1JlbW90ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzTUQ1Tm93ID0gQ3J5cHRvSlMuTUQ1KEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLkhleCk7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzTUQ1Tm93ICE9IGRlcG90U3RhdHVzLmNhY2hlRGV0YWlsRmluZFJ1bGVTZXR0aW5nc01ENSkge1xuICAgICAgICAgICAgICAgICAgICBkZXBvdFN0YXR1cy5jYWNoZURldGFpbEZpbmRSdWxlU2V0dGluZ3NNRDUgPSBzZXR0aW5nc01ENU5vdztcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlU2V0dGluZ3NUb0ZpbGUoc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVE9ETyDnm67liY3kvJrlr7zoh7TkuIDml6bku5PlupPphY3nva7nmoTmnKzlnLDnvJPlrZjkuqfnlJ/vvIzliJnml6Dms5Xmm7TmlLnpu5jorqTphY3nva7kuK3lkIzlrZfmrrXlhoXlrrnnmoTpl67pophcbi8vIOm7mOiupOmFjee9ruS4juacrOWcsOe8k+WtmC/kupHnq6/lkIjlubblhoXlrrnnmoTmlrnlvI/vvIzku6XmnKzlnLDnvJPlrZgv5LqR56uv5Li65Li777yI5ZCI5bm25LyY5YWI57qn5Li677ya5LqR56uvLT7mnKzlnLDnvJPlrZgtPum7mOiupOmFjee9ru+8iVxuLy8g5YWI6K+75pys5Zyw5YaN6K+75LqR56uv77yM5LqR56uv54K45LqG55So5pys5Zyw77yM5pys5Zyw54K45LqG55So6buY6K6k77yb5pys5Zyw57yT5a2Y5LqR56uv5pe25YWI5q+U5a+5bWQ15LiN5LiA6Ie05YaN57yT5a2YXG5pZiAobmVlZENhY2hlU2V0dGluZyA9PSB0cnVlKSBnZXRTZXR0aW5nc0NvbnRlbnQoc2V0dGluZ3NDYWNoZUZpbGUsIGZhbHNlKTtcbmdldFNldHRpbmdzQ29udGVudChkZXBvdFN0YXR1cy5zZXR0aW5nc1JlbW90ZUZpbGUsIHRydWUpO1xuXG52YXIgcmVtb3RlSWdub3JlTGlzdCA9IFtdO1xudHJ5IHtcbiAgICBldmFsKFwicmVtb3RlSWdub3JlTGlzdD1cIiArIGZldGNoKHNldHRpbmdzLnJlbW90ZUlnbm9yZUxpc3RVcmwsIHt9KSk7XG59IGNhdGNoIChlKSB7XG59XG5BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZXR0aW5ncy5pZ25vcmVVcGRhdGVSdWxlTGlzdCwgcmVtb3RlSWdub3JlTGlzdCk7XG4vLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShyZW1vdGVJZ25vcmVMaXN0KSk7XG5cblxudmFyIHJlbW90ZVJ1bGVzTWFwcGluZyA9IFtdO1xudHJ5IHtcbiAgICBldmFsKFwicmVtb3RlUnVsZXNNYXBwaW5nPVwiICsgZmV0Y2goc2V0dGluZ3MucmVtb3RlUnVsZXNNYXBwaW5nVXJsLCB7fSkpO1xufSBjYXRjaCAoZSkge1xufVxuQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2V0dGluZ3MucnVsZXNNYXBwaW5nLCByZW1vdGVSdWxlc01hcHBpbmcpO1xuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkocnVsZXNNYXBwaW5nKSk7XG5cblxuLyoqXG4gKiDlj6/lnKjmraTlpIToh6rlrprkuYnku5PlupPvvIzlrp7njrDnp4Hkurrku5PlupNcbiAqXG4gKiDku6VSZWJvcm7ku5PlupPnmoTpk77mjqXkuLrlj4LogINcbiAqXG4gKiBodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvYmxvYi9tYXN0ZXIvdXBkYXRlLmpzb25cbiAqL1xudmFyIGF1dGhvckxpc3QgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV07XG52YXIgYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0ID0gYXV0aG9yTGlzdC5zcGxpdChcIkBAXCIpO1xudmFyIGF1dGhvciA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFswXTtcbnZhciByZW1vdGVVcmwgPSBcIlwiO1xuXG52YXIgYXBpVHlwZSA9IFwiMVwiOyAgLy8gMCDkuLrmlofku7bnm7Tpk77vvIwxIOS4uueggeS6kUFQSVxudmFyIGFwaVR5cGVKUyA9IGF1dGhvckxpc3QubWF0Y2goL2FwaVR5cGU9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbmV2YWwoYXBpVHlwZUpTKTtcbmlmIChhcGlUeXBlID09IG51bGwpIGFwaVR5cGUgPSBcIjFcIjtcblxuaWYgKGFwaVR5cGUgPT0gXCIwXCIpIHtcbiAgICB2YXIgZnVsbFVybCA9IFwiXCI7XG4gICAgdmFyIGZ1bGxVcmxKUyA9IGF1dGhvckxpc3QubWF0Y2goL2Z1bGxVcmw9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICBldmFsKGZ1bGxVcmxKUyk7XG4gICAgcmVtb3RlVXJsID0gZnVsbFVybDtcbn0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgIHZhciByZW1vdGVBcGlIb21lID0gXCJodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3MvXCI7XG4gICAgdmFyIG93bmVyID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzFdOyAgIC8vIOS7k+W6k+aLpeacieiAhVxuICAgIHZhciByZXBvID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzJdOyAvLyDku5PlupPlkI1cbiAgICB2YXIgcmVtb3RlRmlsZW5hbWUgPSBudWxsOyAvLyDmlofku7blkI1cbiAgICB2YXIgcGF0aCA9IHJlbW90ZUZpbGVuYW1lOyAgLy8g5Zyo5LuT5bqT5Lit5paH5Lu255qE6Lev5b6EXG4gICAgdmFyIGFjY2Vzc190b2tlbiA9IG51bGw7ICAvLyDnlKjmiLfmjojmnYPnoIHvvIzlnKjnoIHkupFcIuiuvue9ruKAlD7lronlhajorr7lrpotPuS4quS6uuiuv+mXruS7pOeJjFwi5Lit5Y+v5Lul55Sf5oiQXG4gICAgdmFyIHRva2VuSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9hY2Nlc3NfdG9rZW49LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbiAgICBldmFsKHRva2VuSlMpO1xuICAgIC8vIHNldEVycm9yKGFjY2Vzc190b2tlbj09bnVsbCk7XG4gICAgdmFyIHJlbW90ZUZpbGVuYW1lSlMgPSBhdXRob3JMaXN0Lm1hdGNoKC9yZW1vdGVGaWxlbmFtZT0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgIGV2YWwocmVtb3RlRmlsZW5hbWVKUyk7XG4gICAgaWYgKHJlbW90ZUZpbGVuYW1lID09IG51bGwpIHtcbiAgICAgICAgcmVtb3RlRmlsZW5hbWUgPSBcInVwZGF0ZS5qc29uXCI7XG4gICAgfVxuICAgIHBhdGggPSByZW1vdGVGaWxlbmFtZTtcbiAgICAvLyBzZXRFcnJvcihyZW1vdGVGaWxlbmFtZSlcbiAgICAvLyBBUEnpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3Mve3tvd25lcn19L3t7cmVwb319L2NvbnRlbnRzL3t7cGF0aH19P2FjY2Vzc190b2tlbj0qKioqXG4gICAgcmVtb3RlVXJsID0gcmVtb3RlQXBpSG9tZSArIG93bmVyICsgXCIvXCIgKyByZXBvICsgXCIvY29udGVudHMvXCIgKyBwYXRoO1xuICAgIGlmIChhY2Nlc3NfdG9rZW4gIT0gbnVsbCkge1xuICAgICAgICByZW1vdGVVcmwgPSByZW1vdGVVcmwgKyBcIj9hY2Nlc3NfdG9rZW49XCIgKyBhY2Nlc3NfdG9rZW47XG4gICAgfVxuICAgIC8vIHNldEVycm9yKHJlbW90ZVVybCk7XG4gICAgLy8gdmFyIHJlbW90ZUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL1wiICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9ibG9iL21hc3Rlci91cGRhdGUuanNvblwiO1xufVxuXG5pZiAoZ2V0VXJsKCkuaW5kZXhPZihcInJ1bGU6Ly9cIikgIT0gLTEpIHtcbiAgICB2YXIgcmVtb3RlRGVwb3RSdWxlID0gSlNPTi5wYXJzZShnZXRVcmwoKS5zcGxpdChcIiNcIilbMV0pO1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuabtOaWsOaXpeW/lyAo54K55Ye75Y+v5p+l55yL5a6M5pW05pel5b+XKVwiLFxuICAgICAgICBkZXNjOiByZW1vdGVEZXBvdFJ1bGUudXBkYXRlVGV4dCxcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vZ2l0ZWUuY29tL3FpdXN1bnNoaW5lMjMzL2hpa2VyVmlldy9ibG9iL21hc3Rlci9ydWxldmVyc2lvbi9DSEFOR0VMT0dfREVQT1RSVUxFX1YyLm1kXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInBpY18xXCJcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLngrnlh7vmm7TmlrDmgLvku5PlupNcIixcbiAgICAgICAgdXJsOiByZW1vdGVEZXBvdFJ1bGUucnVsZSxcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSk7XG59IGVsc2UgaWYgKGdldFVybCgpLmluZGV4T2YoXCJ1cGRhdGVUZXh0PVwiKSAhPSAtMSkge1xuICAgIHZhciB1cGRhdGVUZXh0ID0gbnVsbDtcbiAgICAvLyB1cGRhdGVUZXh0SlMgPSBcInVwZGF0ZVRleHQ9J1wiICsgZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdLnJlcGxhY2UoXCJ1cGRhdGVUZXh0PVwiLCBcIlwiKSArIFwiJztcIjtcbiAgICAvLyBldmFsKHVwZGF0ZVRleHRKUyk7XG4gICAgdXBkYXRlVGV4dCA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXS5yZXBsYWNlKFwidXBkYXRlVGV4dD1cIiwgXCJcIik7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi5pu05paw5pel5b+XICjngrnlh7vlj6/mn6XnnIvlrozmlbTml6Xlv5cpXCIsXG4gICAgICAgIGRlc2M6IHVwZGF0ZVRleHQgIT0gbnVsbCA/IHVwZGF0ZVRleHQgOiBcIuaaguaXoOabtOaWsOaXpeW/l1wiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L2Jsb2IvbWFzdGVyL3J1bGV2ZXJzaW9uL0NIQU5HRUxPR19ERVBPVFJVTEVfVjIubWRcIixcbiAgICAgICAgY29sX3R5cGU6IFwicGljXzFcIlxuICAgIH0pO1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuaAu+S7k+W6k+W8gOWPkeaWh+aho+WFpeWPoyjngrnlh7vlj6/mn6XnnIvlrozmlbTmlofmoaMpXCIsXG4gICAgICAgIGRlc2M6IFwi6L+Z5piv5LiT6Zeo57uZ5aSn5L2s5Lus5YaZ55qE77yM5paH56yU5aSq5beu5LqG77yM6KeJ5b6X5YaZ5b6X5Lmx6L+Y6K+35L2T6LCF5LiA5LiL8J+ZiOOAguacieS4jeaHgueahOWcsOaWueWPr+S7peiBlOezu+aIke+8jOa6nOS6hua6nOS6hu+9nlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlc0RlcG90L2Jsb2IvbWFzdGVyL1JFQURNRS5tZFwiLFxuICAgICAgICBjb2xfdHlwZTogXCJwaWNfMVwiXG4gICAgfSk7XG59IGVsc2UgaWYgKGdldFVybCgpLmluZGV4T2YoXCJkb2N1bWVudD1cIikgIT0gLTEpIHtcbiAgICB2YXIgZG9jdW1lbnRVcmwgPSBudWxsO1xuICAgIGRvY3VtZW50VXJsID0gZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdLnJlcGxhY2UoXCJkb2N1bWVudD1cIiwgXCJcIik7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi5oC75LuT5bqT5byA5Y+R5paH5qGj5YWl5Y+jXCIsXG4gICAgICAgIGRlc2M6IFwi6L+Z5piv5LiT6Zeo57uZ5aSn5L2s5Lus5YaZ55qE77yM5paH56yU5aSq5beu5LqG77yM6KeJ5b6X5YaZ5b6X5Lmx6L+Y6K+35L2T6LCF5LiA5LiL8J+ZiOOAguacieS4jeaHgueahOWcsOaWueWPr+S7peiBlOezu+aIke+8jOa6nOS6hua6nOS6hu+9nlwiLFxuICAgICAgICB1cmw6IGRvY3VtZW50VXJsLFxuICAgICAgICBjb2xfdHlwZTogXCJwaWNfMVwiXG4gICAgfSk7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi54K55Ye75Y+v5p+l55yL5a6M5pW05paH5qGjXCIsXG4gICAgICAgIHVybDogZG9jdW1lbnRVcmwsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgIH0pO1xufSBlbHNlIHtcblxuICAgIHZhciBkZXBvdFJ1bGVzU3RhdHVzID0ge1xuICAgICAgICB1cGRhdGVOdW06IDAsXG4gICAgICAgIG5vSW1wb3J0TnVtOiAwLFxuICAgICAgICBpZ25vcmVOdW06IDAsXG4gICAgICAgIHVua25vd25UeXBlTnVtOiAwXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFJ1bGVOb1N5bWJvbHMocnVsZSwgc3ltYm9sTGlzdCkge1xuICAgICAgICBpZiAoc2V0dGluZ3MubmVlZERlbFN5bWJvbCAhPSB0cnVlKSByZXR1cm4gcnVsZTtcbiAgICAgICAgdmFyIHJ1bGVUZW1wID0gcnVsZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ltYm9sUmVnID0gbmV3IFJlZ0V4cChzeW1ib2xMaXN0W2ldLCBcImdcIik7XG4gICAgICAgICAgICBydWxlVGVtcC50aXRsZSA9IHJ1bGVUZW1wLnRpdGxlLnJlcGxhY2Uoc3ltYm9sUmVnLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvL3NldEVycm9yKEpTT04uc3RyaW5naWZ5KHJ1bGVUZW1wKSk7XG4gICAgICAgIHJldHVybiBydWxlVGVtcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0hpZGVSdWxlKHJ1bGUpIHtcbiAgICAgICAgaWYgKHNldHRpbmdzLm5lZWRIaWRlUnVsZSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIGlmIChoaWRlU3ltYm9scy5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgcnVsZVRlbXAgPSBydWxlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRpbmdzLmhpZGVTeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocnVsZVRlbXAudGl0bGUuaW5kZXhPZihzZXR0aW5ncy5oaWRlU3ltYm9sc1tpXSkgIT0gLTEpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyDlpoLmnpzmnKzlnLDmsqHmnInliJnmj5DnpLrlr7zlhaXmlrDop4TliJlcbiAgICAvLyDlm6Dpg6jliIbmiYvmnLrkuI3mlK/mjIFlczbor63ms5XvvIzmlYXms6jph4rmjolcbiAgICAvKnZhciBteVJ1bGVzTWFwID0gbmV3IE1hcCgpO1xuICAgIG15UnVsZXMubWFwKHJ1bGUgPT4ge1xuICAgICAgICBteVJ1bGVzTWFwLnNldChydWxlLnRpdGxlLCB0cnVlKTtcbiAgICB9KTtcbiAgICAvL3NldEVycm9yKG15UnVsZXNNYXAuZ2V0KFwi6IW+6K6v4oCiUmVcIikpOyovXG5cbiAgICBmdW5jdGlvbiBnZXRSdWxlSW5BcnJheShydWxlcywgcnVsZSkge1xuICAgICAgICBpZiAocnVsZXMgPT0gbnVsbCB8fCBydWxlcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChydWxlc1tpXS50aXRsZSA9PSBydWxlLnRpdGxlICYmIHJ1bGVzW2ldLmF1dGhvciA9PSBhdXRob3IpIHJldHVybiBydWxlc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyDljp/lp4vmlrnms5XvvIzmr5TovoPogJfml7ZcbiAgICBmdW5jdGlvbiBpc0luQXJyYXkocnVsZXMsIHJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIGdldFJ1bGVJbkFycmF5KHJ1bGVzLCBydWxlKSAhPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSWdub3JlVXBkYXRlUnVsZShydWxlKSB7XG4gICAgICAgIGlmIChpc0luQXJyYXkoc2V0dGluZ3MuaWdub3JlVXBkYXRlUnVsZUxpc3QsIHJ1bGUpID09IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZUlnbm9yZVJ1bGUgPSBnZXRSdWxlSW5BcnJheShkZXBvdFN0YXR1cy5pZ25vcmVVcGRhdGVSdWxlTGlzdCwgcnVsZSk7XG4gICAgICAgICAgICBpZiAoY2FjaGVJZ25vcmVSdWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVwb3RTdGF0dXMuaWdub3JlVXBkYXRlUnVsZUxpc3QgPT0gbnVsbCkgZGVwb3RTdGF0dXMuaWdub3JlVXBkYXRlUnVsZUxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICBjYWNoZUlnbm9yZVJ1bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBydWxlLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGF1dGhvcixcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogcnVsZS52ZXJzaW9uXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkZXBvdFN0YXR1cy5pZ25vcmVVcGRhdGVSdWxlTGlzdC5wdXNoKGNhY2hlSWdub3JlUnVsZSk7XG4gICAgICAgICAgICAgICAgd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUudmVyc2lvbiAhPSBjYWNoZUlnbm9yZVJ1bGUudmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZUlnbm9yZVJ1bGUudmVyc2lvbiA9IHJ1bGUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldElnbm9yZVVwZGF0ZVJ1bGUocnVsZSkge1xuICAgICAgICBpZiAoaXNJZ25vcmVVcGRhdGVSdWxlKHJ1bGUpID09IHRydWUpIHJ1bGUuaXNJZ25vcmVVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBydWxlcyA9IFtdO1xuICAgIGV2YWwoXCJydWxlcz1cIiArIGZldGNoKFwiaGlrZXI6Ly9ob21lXCIsIHt9KSk7XG4gICAgdmFyIG15UnVsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBydWxlID0gcnVsZXNbaV07XG4gICAgICAgIGlmIChydWxlLmF1dGhvciA9PSBhdXRob3IpIHtcbiAgICAgICAgICAgIG15UnVsZXMucHVzaChnZXRSdWxlTm9TeW1ib2xzKHJ1bGUsIHNldHRpbmdzLnN5bWJvbHMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldEVycm9yKEpTT04uc3RyaW5naWZ5KG15UnVsZXMpKTtcblxuICAgIGZ1bmN0aW9uIGdldFJ1bGVJblJ1bGVzV2l0aE1hcHBpbmcocnVsZXMsIHJ1bGUpIHtcbiAgICAgICAgaWYgKHJ1bGVzID09IG51bGwgfHwgcnVsZXMubGVuZ3RoID09IDAgfHwgcnVsZSA9PSBudWxsIHx8IHJ1bGUubWFwcGluZ1RpdGxlID09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocnVsZXNbaV0ubWFwcGluZ1RpdGxlICE9IG51bGwgJiYgcnVsZXNbaV0ubWFwcGluZ1RpdGxlID09IHJ1bGUubWFwcGluZ1RpdGxlICYmIHJ1bGVzW2ldLmF1dGhvciA9PSBhdXRob3IpIHJldHVybiBydWxlc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0luUnVsZXNXaXRoTWFwcGluZyhydWxlcywgcnVsZSkge1xuICAgICAgICBpZiAoZ2V0UnVsZUluUnVsZXNXaXRoTWFwcGluZyhydWxlcywgcnVsZSkgIT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBkZXNjID0gZnVuY3Rpb24gKHJ1bGVzLCBydWxlKSB7XG4gICAgICAgIGlmIChydWxlICE9IG51bGwgJiYgcnVsZS52ZXJzaW9uIDwgMCkge1xuICAgICAgICAgICAgZGVwb3RSdWxlc1N0YXR1cy51bmtub3duVHlwZU51bSArPSAxO1xuICAgICAgICAgICAgcmV0dXJuIFwi5LuT5bqT5peg5rOV5qOA5rWL6K+l6KeE5YiZ57G75Z6L77yM6K+34oCY4oCY55yL6KeE5YiZ5pu05paw5pe26Ze04oCZ4oCZXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSW5SdWxlc1dpdGhNYXBwaW5nKHJ1bGVzLCBydWxlKSA9PSB0cnVlIHx8IGlzSW5BcnJheShydWxlcywgcnVsZSkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHJ1bGUub2xkVmVyc2lvbiAhPSBudWxsICYmIHJ1bGUub2xkVmVyc2lvbiA8IHJ1bGUudmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGRlcG90UnVsZXNTdGF0dXMudXBkYXRlTnVtICs9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcIuKAmOKAmOacieaWsOeJiOacrO+8mlwiICsgcnVsZS52ZXJzaW9uICsgXCLigJnigJnvvIzngrnlh7vlr7zlhaXmlrDniYjmnKxcIilcbiAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxicj48YnI+W+abtOaWsOaXpeW/l10gXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUudXBkYXRlVGV4dCA9PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLml6BcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJ1bGUudXBkYXRlVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBydWxlLm9sZFZlcnNpb24gPiBydWxlLnZlcnNpb24gP1xuICAgICAgICAgICAgICAgICAgICBcIuKAmOKAmOWWte+8n+S4uuWVpeS9oOeahOinhOWImeeJiOacrOavlOaIkei/mOmrmO+8n+KAmeKAmVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCLlvZPliY3op4TliJnlt7LmmK/mnIDmlrDniYjvvIzngrnlh7vot7PliLDop4TliJnpobVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlcG90UnVsZXNTdGF0dXMubm9JbXBvcnROdW0gKz0gMTtcbiAgICAgICAgICAgIHJldHVybiBcIuKAmOKAmOS9oOWwmuacquWvvOWFpeivpeinhOWImeKAmeKAme+8jOeCueWHu+WvvOWFpVwiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmIChkZXBvdFN0YXR1cy5zaG93U2Vjb25kTGlzdFRpcHMgIT0gZmFsc2UpIHtcbiAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBcIummluasoeWvvOWFpeaPkOekulxcbuKAmOKAmCjku4XmmL7kuIDmrKEp4oCZ4oCZXCIsXG4gICAgICAgICAgICBkZXNjOiBmaXJzdEltcG9ydFRleHQsXG4gICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGRlcG90U3RhdHVzLnNob3dTZWNvbmRMaXN0VGlwcyA9IGZhbHNlO1xuICAgICAgICB3cml0ZURlcG90U3RhdHVzVG9GaWxlKGRlcG90U3RhdHVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc2V0dGluZ3Mubm9UaXRsZSAhPSB0cnVlICYmIHNldHRpbmdzLmhpZGVBbGwgIT0gdHJ1ZSkge1xuICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCLigJjigJjov5nph4zmmK8gXCIgKyBhdXRob3IgKyBcIiDnmoTop4TliJnlsI/ku5PlupPigJnigJlcIixcbiAgICAgICAgICAgICAgICAvLyBkZXNjOiBcIueCueWHu+WPr+iuv+mXruinhOWImeS7k+W6k+a6kFwiLFxuICAgICAgICAgICAgICAgIC8vIHVybDogcmVtb3RlSG9tZSxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0XzFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVtb3RlUnVsZXMgPSBbXTtcbiAgICAgICAgLy8gdmFyIHJlbW90ZVVybCA9IHJlbW90ZUFwaUhvbWUgKyBlbmNvZGVVUklDb21wb25lbnQoYXV0aG9yKSArIFwiL1wiICsgcmVtb3RlRmlsZW5hbWU7XG4gICAgICAgIHZhciByZW1vdGVTb3VyY2UgPSBmZXRjaChyZW1vdGVVcmwsIHt9KTtcbiAgICAgICAgLy8gc2V0RXJyb3IocmVtb3RlVXJsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVTb3VyY2U9XCIgKyByZW1vdGVTb3VyY2UpO1xuICAgICAgICAgICAgaWYgKGFwaVR5cGUgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICByZW1vdGVSdWxlcyA9IHJlbW90ZVNvdXJjZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PSBcIjFcIikge1xuICAgICAgICAgICAgICAgIGV2YWwoXCJyZW1vdGVSdWxlcz1cIiArIGJhc2U2NERlY29kZShyZW1vdGVTb3VyY2UuY29udGVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbW90ZVJ1bGVzLmRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBub3RpY2UgPSByZW1vdGVSdWxlcy5ub3RpY2U7XG4gICAgICAgICAgICAgICAgaWYgKG5vdGljZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKG5vdGljZSkgPT0gXCJzdHJpbmdcIiAmJiBub3RpY2UgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLku5PlupPpgJrnn6VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBub3RpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IFwicGljXzFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChub3RpY2UpID09IFwib2JqZWN0XCIgJiYgbm90aWNlLmRlc2MgIT0gbnVsbCAmJiBub3RpY2UuZGVzYyAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBub3RpY2UudGl0bGUgIT0gbnVsbCAmJiBub3RpY2UudGl0bGUgIT0gXCJcIiA/IG5vdGljZS50aXRsZSA6IFwi5LuT5bqT6YCa55+lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogbm90aWNlLmRlc2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljX3VybDogbm90aWNlLnBpY1VybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJwaWNfMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW1vdGVSdWxlcyA9IHJlbW90ZVJ1bGVzLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3Mubm9XYXJuaW5nICE9IHRydWUgJiYgc2V0dGluZ3MuaGlkZUFsbCAhPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5rOo5oSP5LqL6aG5XCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IHdhcmluZ1RleHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInBpY18xXCIsXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCJoaWtlcjovL2hvbWVA5oC75LuT5bqTXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgICAgIC8vc2V0RXJyb3IocmVtb3RlUnVsZXMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHJlbW90ZVJ1bGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3NldEVycm9yKG15UnVsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChteVJ1bGVzLmxlbmd0aCA+PSByZW1vdGVSdWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyDkuI3nn6XpgZPkvJrkuI3kvJrmnInpl67pophcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG15UnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW1vdGVSdWxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2FsUnVsZSA9IG15UnVsZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3RlUnVsZSA9IHJlbW90ZVJ1bGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSGlkZVJ1bGUocmVtb3RlUnVsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlcy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SWdub3JlVXBkYXRlUnVsZShyZW1vdGVSdWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc2V0dGluZ3MucnVsZXNNYXBwaW5nLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAoKGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSAhPSBudWxsKSB8fCByZW1vdGVSdWxlLmlzTWFwcGVkID09IHRydWUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZU1hcHBpbmcgPSBzZXR0aW5ncy5ydWxlc01hcHBpbmdba107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhbFJ1bGVNYXBwaW5nVGl0bGUgPSBydWxlTWFwcGluZ1swXS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUgPSBydWxlTWFwcGluZ1sxXS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWo5ZCN5pig5bCEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFJ1bGUudGl0bGUgPT0gbG9jYWxSdWxlTWFwcGluZ1RpdGxlICYmIHJlbW90ZVJ1bGUudGl0bGUgPT0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZSAmJiBydWxlTWFwcGluZ1syXS5tYXRjaEFsbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZVJlZ2V4ID0gbmV3IFJlZ0V4cChsb2NhbFJ1bGVNYXBwaW5nVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA9IGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlICE9IFwiXCIgPyBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlIDogbG9jYWxSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVSZWdleCA9IG5ldyBSZWdFeHAocmVtb3RlUnVsZU1hcHBpbmdUaXRsZSwgXCJnXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5tYXBwaW5nVGl0bGUgPSByZW1vdGVSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFJ1bGUubWFwcGluZ1RpdGxlID09IHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmxvY2FsVGl0bGUgPSBsb2NhbFJ1bGUudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmlzTWFwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUub2xkVmVyc2lvbiA9IGxvY2FsUnVsZS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsUnVsZS50aXRsZSA9PSByZW1vdGVSdWxlLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5vbGRWZXJzaW9uID0gbG9jYWxSdWxlLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdGVSdWxlc1tqXS5ydWxlPW15UnVsZXNbaV0ucnVsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2pdLmRlc2M9bXlSdWxlc1tpXS5kZXNjO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3RlUnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGUgPSByZW1vdGVSdWxlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChpc0hpZGVSdWxlKHJlbW90ZVJ1bGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0SWdub3JlVXBkYXRlUnVsZShyZW1vdGVSdWxlKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBteVJ1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYWxSdWxlID0gbXlSdWxlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc2V0dGluZ3MucnVsZXNNYXBwaW5nLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAoKGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiByZW1vdGVSdWxlLm1hcHBpbmdUaXRsZSAhPSBudWxsKSB8fCByZW1vdGVSdWxlLmlzTWFwcGVkID09IHRydWUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZU1hcHBpbmcgPSBzZXR0aW5ncy5ydWxlc01hcHBpbmdba107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhbFJ1bGVNYXBwaW5nVGl0bGUgPSBydWxlTWFwcGluZ1swXS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW90ZVJ1bGVNYXBwaW5nVGl0bGUgPSBydWxlTWFwcGluZ1sxXS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWo5ZCN5pig5bCEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFJ1bGUudGl0bGUgPT0gbG9jYWxSdWxlTWFwcGluZ1RpdGxlICYmIHJlbW90ZVJ1bGUudGl0bGUgPT0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZSAmJiBydWxlTWFwcGluZ1syXS5tYXRjaEFsbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlID0gcmVtb3RlUnVsZU1hcHBpbmdUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZVJlZ2V4ID0gbmV3IFJlZ0V4cChsb2NhbFJ1bGVNYXBwaW5nVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxSdWxlLm1hcHBpbmdUaXRsZSA9IGxvY2FsUnVsZS5tYXBwaW5nVGl0bGUgIT0gbnVsbCAmJiBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlICE9IFwiXCIgPyBsb2NhbFJ1bGUubWFwcGluZ1RpdGxlIDogbG9jYWxSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVSZWdleCA9IG5ldyBSZWdFeHAocmVtb3RlUnVsZU1hcHBpbmdUaXRsZSwgXCJnXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZS5tYXBwaW5nVGl0bGUgPSByZW1vdGVSdWxlLnRpdGxlLm1hdGNoKHRpdGxlUmVnZXgpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFJ1bGUubWFwcGluZ1RpdGxlID09IHJlbW90ZVJ1bGUubWFwcGluZ1RpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmxvY2FsVGl0bGUgPSBsb2NhbFJ1bGUudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLmlzTWFwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGUub2xkVmVyc2lvbiA9IGxvY2FsUnVsZS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxSdWxlLnRpdGxlID09IHJlbW90ZVJ1bGUudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlLm9sZFZlcnNpb24gPSBsb2NhbFJ1bGUudmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2ldLnJ1bGU9bXlSdWxlc1tqXS5ydWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbaV0uZGVzYz1teVJ1bGVzW2pdLmRlc2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gbWVyZ2VTb3J0KGFycikge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtaWRkbGUgPSBNYXRoLmZsb29yKGxlbiAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gYXJyLnNsaWNlKDAsIG1pZGRsZSksXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gYXJyLnNsaWNlKG1pZGRsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lcmdlKG1lcmdlU29ydChsZWZ0KSwgbWVyZ2VTb3J0KHJpZ2h0KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG1lcmdlKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBpZ25vcmVVcGRhdGVMaXN0ID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGlzVGhpc1ZlcnNpb25MaXN0ID0gW107XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAobGVmdC5sZW5ndGggPiAwICYmIHJpZ2h0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRbMF0uaXNJZ25vcmVVcGRhdGUgPT0gdHJ1ZSAmJiBsZWZ0WzBdLm9sZFZlcnNpb24gIT0gbGVmdFswXS52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVVcGRhdGVMaXN0LnB1c2gobGVmdC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5pc0lnbm9yZVVwZGF0ZSA9PSB0cnVlICYmIHJpZ2h0WzBdLm9sZFZlcnNpb24gIT0gcmlnaHRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlVXBkYXRlTGlzdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZnRbMF0ub2xkVmVyc2lvbiA8IGxlZnRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5vbGRWZXJzaW9uIDwgcmlnaHRbMF0udmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdFswXS5vbGRWZXJzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxlZnQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmlnaHRbMF0ub2xkVmVyc2lvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVGhpc1ZlcnNpb25MaXN0LnB1c2gobGVmdC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVGhpc1ZlcnNpb25MaXN0LnB1c2gocmlnaHQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoaWdub3JlVXBkYXRlTGlzdC5sZW5ndGgpIHJlc3VsdC5wdXNoKGlnbm9yZVVwZGF0ZUxpc3Quc2hpZnQoKSk7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoaXNUaGlzVmVyc2lvbkxpc3QubGVuZ3RoKSByZXN1bHQucHVzaChpc1RoaXNWZXJzaW9uTGlzdC5zaGlmdCgpKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChsZWZ0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChyaWdodC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVtb3RlUnVsZXMgPSBtZXJnZVNvcnQocmVtb3RlUnVsZXMpO1xuXG4gICAgICAgICAgICB2YXIgc2hvd1J1bGVMaXN0ID0gW107XG4gICAgICAgICAgICAvLyBzZXRFcnJvcihKU09OLnN0cmluZ2lmeShyZW1vdGVSdWxlcykpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBqID0gcmVtb3RlUnVsZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHJ1bGVXaXRoTWFwcGluZyA9IGdldFJ1bGVJblJ1bGVzV2l0aE1hcHBpbmcocmVtb3RlUnVsZXMsIGopO1xuICAgICAgICAgICAgICAgIGlmIChydWxlV2l0aE1hcHBpbmcgIT0gbnVsbCAmJiBnZXRSdWxlSW5SdWxlc1dpdGhNYXBwaW5nKG15UnVsZXMsIGopKSBqID0gcnVsZVdpdGhNYXBwaW5nO1xuICAgICAgICAgICAgICAgIHZhciByID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLm5lZWRDaGFuZ2VTaG93VHlwZSA9PSB0cnVlICYmIGoub2xkVmVyc2lvbiAhPSBudWxsICYmIGoub2xkVmVyc2lvbiA+PSBqLnZlcnNpb24gJiYgcmVtb3RlUnVsZXMubGVuZ3RoID4gc2V0dGluZ3Muc2hvd0Z1bGxUZXh0TWF4KVxuICAgICAgICAgICAgICAgICAgICByLmNvbF90eXBlID0gc2V0dGluZ3Mub3Zlck1heFNob3dUeXBlO1xuICAgICAgICAgICAgICAgIGlmICgoc2V0dGluZ3Mubm9JZ25vcmVVcGRhdGUgIT0gdHJ1ZSAmJiBqLmlzSWdub3JlVXBkYXRlID09IHRydWUpICYmIChqLm9sZFZlcnNpb24gPT0gbnVsbCB8fCBqLm9sZFZlcnNpb24gPCBqLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcG90UnVsZXNTdGF0dXMuaWdub3JlTnVtICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHIuZGVzYyA9IFwi6K+l6KeE5YiZ5bey5b+955Wl5pys5qyh5pu05pawXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgci5kZXNjID0gZGVzYyhteVJ1bGVzLCBqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgci5kZXNjID0gci5kZXNjICsgKFxuICAgICAgICAgICAgICAgICAgICBqLnRpcHMgIT0gbnVsbCAmJiBqLnRpcHMgIT0gXCJcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcblxcblRpcHM6IFwiICsgai50aXBzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHIudGl0bGUgPSBqLm1hcHBpbmdUaXRsZSAhPSBudWxsICYmIGoubWFwcGluZ1RpdGxlICE9IFwiXCIgJiYgai5pc01hcHBlZCA9PSB0cnVlID9cbiAgICAgICAgICAgICAgICAgICAgai5tYXBwaW5nVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgOiBqLnRpdGxlO1xuICAgICAgICAgICAgICAgIHIudXJsID0gai52ZXJzaW9uIDwgMCA/XG4gICAgICAgICAgICAgICAgICAgIGoucnVsZSB8fCBcIlwiXG4gICAgICAgICAgICAgICAgICAgIDogaXNJbkFycmF5KG15UnVsZXMsIGopIHx8IGouaXNNYXBwZWQgPT0gdHJ1ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAoai5vbGRWZXJzaW9uICE9IG51bGwgJiYgai5vbGRWZXJzaW9uIDwgai52ZXJzaW9uID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoai5ydWxlIHx8IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoXCJoaWtlcjovL2hvbWVAXCIgKyAoai5sb2NhbFRpdGxlICE9IG51bGwgJiYgai5sb2NhbFRpdGxlICE9IFwiXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqLmxvY2FsVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBqLnRpdGxlKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChqLnJ1bGUgfHwgXCJcIik7XG4gICAgICAgICAgICAgICAgLy9yLmNvbnRlbnQgPSBqLnVwZGF0ZVRleHQ7XG4gICAgICAgICAgICAgICAgc2hvd1J1bGVMaXN0LnB1c2gocik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5ub1J1bGVzTnVtICE9IHRydWUgJiYgc2V0dGluZ3MuaGlkZUFsbCAhPSB0cnVlKVxuICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIjxiPuivpeS7k+W6k+WFseaciSDigJjigJhcIiArIHJlbW90ZVJ1bGVzLmxlbmd0aCArIFwi4oCZ4oCZIOadoeinhOWImTwvYj5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiAoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCLmm7TmlrA64oCY4oCYXCIgKyBkZXBvdFJ1bGVzU3RhdHVzLnVwZGF0ZU51bVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIuKAmeKAmSAg5pyq5a+85YWlOuKAmOKAmFwiICsgZGVwb3RSdWxlc1N0YXR1cy5ub0ltcG9ydE51bVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIuKAmeKAmSAg5b+955WlOuKAmOKAmFwiICsgZGVwb3RSdWxlc1N0YXR1cy5pZ25vcmVOdW1cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCLigJnigJkpXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInRleHRfMVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aGlsZSAoc2hvd1J1bGVMaXN0Lmxlbmd0aCkgZC5wdXNoKHNob3dSdWxlTGlzdC5zaGlmdCgpKVxuXG4gICAgICAgIH1cbiAgICB9XG59XG5yZXMuZGF0YSA9IGQ7XG5zZXRIb21lUmVzdWx0KHJlcyk7Iiwic2RldGFpbF9jb2xfdHlwZSI6InRleHRfY2VudGVyXzEiLCJzZGV0YWlsX2ZpbmRfcnVsZSI6ImpzOlxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcblxudmFyIHJ1bGUgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV07XG5pZihydWxlICE9IG51bGwgJiYgcnVsZSAhPSBcIlwiKSB7XG4gICAgIGQucHVzaCh7XG4gICAgICAgICAgdGl0bGU6IFwi56uL5Y2z5a+85YWl6KeE5YiZXCIsXG4gICAgICAgICAgdXJsOiBydWxlXG4gICAgIH0pO1xufVxuXG5yZXMuZGF0YSA9IGQ7XG5zZXRIb21lUmVzdWx0KHJlcyk7In0=" 
}