{
    "title": "总仓库",
    "author": "Reborn",
    "version": 17,
    "updateText": "1.支持超过一定数量规则后设置样式，提供开关\n2.强制要求阅读首次导入提示(下拉刷新可显示仓库内容)\n3.更多更新日志请点击访问源网页查看",
    "rule": "rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77yMUmVib3Ju77+laG9tZV9ydWxl77+leyJmaXJzdEhlYWRlciI6ImNsYXNzIiwidGl0bGUiOiLmgLvku5PlupMiLCJhdXRob3IiOiJSZWJvcm4iLCJ1cmwiOiJoaWtlcjovL2hvbWUiLCJ2ZXJzaW9uIjoxNywiY29sX3R5cGUiOiJpY29uXzIiLCJjbGFzc19uYW1lIjoiIiwiY2xhc3NfdXJsIjoiIiwiYXJlYV9uYW1lIjoiIiwiYXJlYV91cmwiOiIiLCJ5ZWFyX25hbWUiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxudmFyIHJlcyA9IHt9O1xudmFyIGQgPSBbXTtcbnZhciBtUnVsZSA9IEpTT04ucGFyc2UoZ2V0UnVsZSgpKTtcblxuLy8g5Zyo6L+Z6YeM5re75Yqg5LuT5bqT6YWN572u77yM5Y+v5L2/5pys5Zyw5re75Yqg55qE5LuT5bqT572u6aG2XG52YXIgYXV0aG9yTGlzdCA9IFtcbiAgICAgXCJb5L6L5a2QXee9rumhtuengeS6uuS7k+W6k0BAUmVib3JuXzBAQEhpa2VyUnVsZXNQcml2YWN5QEBhY2Nlc3NfdG9rZW49JyoqKionXCIsXG4gICAgIFwiW+S+i+WtkF3oh6rlrprkuYnmlofku7blkI1AQFJlYm9ybl8wQEBIaWtlclJ1bGVzRGVwb3RAQHJlbW90ZUZpbGVuYW1lPSd1cGRhdGVfMS5qc29uJ1wiXG5dO1xudmFyIHJlbW90ZUF1dGhvckxpc3RVcmwgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL3FpdXN1bnNoaW5lMjMzL2hpa2VyVmlldy9yYXcvbWFzdGVyL3J1bGV2ZXJzaW9uL2F1dGhvckxpc3QuanNvblwiO1xudmFyIHJlbW90ZUF1dGhvckxpc3QgPSBbXTtcbmV2YWwoXCJyZW1vdGVBdXRob3JMaXN0PVwiICsgZmV0Y2gocmVtb3RlQXV0aG9yTGlzdFVybCwge30pKTtcbkFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGF1dGhvckxpc3QsIHJlbW90ZUF1dGhvckxpc3QpO1xuLy8g5Zyo6L+Z6YeM5re75Yqg5LuT5bqT6YWN572u77yM5Y+v5L2/5pys5Zyw5re75Yqg55qE5LuT5bqT572u5bqVXG52YXIgYXV0aG9yTGlzdEJvdHRvbSA9IFtcbiAgICBcIlvkvovlrZBd572u5bqV5pys5Zyw5LuT5bqTQEBSZWJvcm5fMEBASGlrZXJSdWxlc1ByaXZhY3lcIlxuXTtcbmlmIChhdXRob3JMaXN0Qm90dG9tLmxlbmd0aCAhPSAwKSBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhdXRob3JMaXN0LCBhdXRob3JMaXN0Qm90dG9tKTtcblxuLy8g5Zyo6L+Z6YeM5re75Yqg6ZqP5py65aS05YOPXG52YXIgcGljVXJsTGlzdCA9IFtcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2MjQmc2l6ZT0xMjhcIixcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2NDcmc2l6ZT0xMjhcIixcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNjY1MzYmc2l6ZT0xMjhcIixcblwiaHR0cHM6Ly93d3cuZWFzeWljb24ubmV0L2FwaS9yZXNpemVBcGkucGhwP2lkPTEyNzE2NTUmc2l6ZT0xMjhcIixcbl07XG5cbi8vIOmakOiXj+W8gOWFs++8jOS4jemcgOimgemakOiXj+ivt+iuvue9ruS4umZhbHNlXG52YXIgbmVlZEhpZGVSdWxlID0gdHJ1ZTtcbi8vIOiHquihjOa3u+WKoOimgemakOiXj+eahOagh+iusO+8jOagvOW8j+S4uu+8mlvmoIforrDlkI1dXG52YXIgaGlkZVN5bWJvbHMgPSBbXCJb5qih5p2/XVwiLCBcIlvmnKrlrozmiJBdXCJdO1xuXG4vLyDmiormgLvku5PlupPnirbmgIHlhpnlhaXmlofku7ZcbmZ1bmN0aW9uIHdyaXRlRGVwb3RTdGF0dXNUb0ZpbGUgKGRlcG90U3RhdHVzKSB7XG4gICAgd3JpdGVGaWxlKFwiaGlrZXI6Ly9maWxlcy9kZXBvdFN0YXR1cy5qc29uXCIsIEpTT04uc3RyaW5naWZ5KGRlcG90U3RhdHVzKSk7XG59XG4vLyDoi6XkuI3mmK/nrKzkuIDmrKHkvb/nlKjmgLvku5PlupPliJnpmpDol4/lvIDlj5HmlofmoaNcbnZhciBkZXBvdFN0YXR1cyA9IHt9OyBcbnZhciBkZXBvdFN0YXR1c0ZpbGUgPSAgZmV0Y2goXCJoaWtlcjovL2ZpbGVzL2RlcG90U3RhdHVzLmpzb25cIiwge30pO1xuaWYgKGRlcG90U3RhdHVzRmlsZSAhPSBcIlwiKSB7IFxuICAgIGV2YWwoXCJkZXBvdFN0YXR1cz1cIitkZXBvdFN0YXR1c0ZpbGUpO1xufVxuLy8g6Iul6ZyA6KaB5rC45LmF5pi+56S65byA5Y+R5paH5qGj77yM5YiZ5Y+W5raI5rOo6YeKXG4vLyBkZXBvdFN0YXR1cy5zaG93RGV2RG9jID0gdHJ1ZTtcbi8vIOiLpemcgOimgeawuOS5heaYvuekuuaPkOekuu+8jOWImeWPlua2iOazqOmHilxuLy8gZGVwb3RTdGF0dXMuc2hvd1RpcHMgPSB0cnVlO1xuLy8g6Iul6ZyA6KaB5rC45LmF5pi+56S65L6L5a2Q77yM5YiZ5Y+W5raI5rOo6YeKXG4vLyBkZXBvdFN0YXR1cy5zaG93RXRjID0gdHJ1ZTtcblxuZnVuY3Rpb24gaXNIaWRlUnVsZSAocnVsZVRpdGxlKSB7XG4gICAgaWYgKG5lZWRIaWRlUnVsZSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gaWYgKGhpZGVTeW1ib2xzLmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJ1bGVUZW1wID0gcnVsZVRpdGxlO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBoaWRlU3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocnVsZVRlbXAuaW5kZXhPZihoaWRlU3ltYm9sc1tpXSkgIT0gLTEpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmQucHVzaCh7XG4gICAgdGl0bGU6IFwi5qyi6L+O5p2l5Yiw6KeG55WM5oC75LuT5bqTXCIsXG4gICAgZGVzYzogXCLlnKjov5nph4zvvIzkvaDlj6/ku6XnlYXmuLjlkITkuKrlpKfkvaznmoTop4TliJnvvIzlv6vpgJ/mtY/op4jlv6vpgJ/lr7zlhaVcIixcbiAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbn0pO1xuXG5pZiAoZGVwb3RTdGF0dXMuc2hvd1RpcHMgIT0gZmFsc2UpIHtcbmQucHVzaCh7XG4gICAgdGl0bGU6IFwi6aaW5qyh5a+85YWl5o+Q56S6XFxu4oCY4oCYKOS7heaYvuS4gOasoSnigJnigJlcIixcbiAgICBkZXNjOiBcIuKAmOKAmOS4i+aLieWIt+aWsOWNs+WPr+aYvuekuuS7k+W6k+KAmeKAmVwiICsgXCJcXG7op4TliJnph4zmnInlpb3lpJrpmpDol4/nmoTlvIDlhbPlk6bvvIFcIiArIFwiXFxu4oCY4oCY5o+Q5L6b55qE5L6L5a2Q5Lmf5LuF5pi+5LiA5qyh4oCZ4oCZXCIsXG4gICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG59KTtcbmRlcG90U3RhdHVzLnNob3dUaXBzID0gZmFsc2U7XG53cml0ZURlcG90U3RhdHVzVG9GaWxlKGRlcG90U3RhdHVzKTtcbn0gZWxzZSB7XG5cbmlmIChkZXBvdFN0YXR1cy5zaG93RXRjICE9IGZhbHNlIHx8ICAgbVJ1bGUudmVyc2lvbiAhPSBkZXBvdFN0YXR1cy52ZXJzaW9uKSB7XG4gICAgZGVwb3RTdGF0dXMuc2hvd0V0YyA9IGZhbHNlO1xuICAgIGRlcG90U3RhdHVzLnZlcnNpb24gPSBtUnVsZS52ZXJzaW9uO1xuICAgIHdyaXRlRGVwb3RTdGF0dXNUb0ZpbGUoZGVwb3RTdGF0dXMpO1xufSBlbHNlIHtcbiAgICBoaWRlU3ltYm9scy5wdXNoKFwiW+S+i+WtkF1cIik7XG59XG5cbmlmIChkZXBvdFN0YXR1cy5zaG93RGV2RG9jICE9IGZhbHNlKSB7XG5kLnB1c2goe1xuICAgIHRpdGxlOiBcIuOAkOWkp+S9rOmAmumBk+OAkVxcbuKAmOKAmCjku4XmmL7kuIDmrKEp4oCZ4oCZXCIsXG4gICAgZGVzYzogXCLigJjigJjngrnlh7vmn6XnnItWMuaAu+S7k+W6k+W8gOWPkeaWh+aho+KAmeKAmVxcbuinhOWImemHjOacieawuOS5heaYvuekuuW8gOWFs+WPr+S7peiHquW3seWOu+W8gFwiLFxuICAgIHVybDogXCJodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzRGVwb3QvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kI2RvY3VtZW50PWh0dHBzOi8vZ2l0ZWUuY29tL1JlYm9ybl8wL0hpa2VyUnVsZXNEZXBvdC9ibG9iL21hc3Rlci9SRUFETUUubWRcIixcbiAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbn0pO1xuZGVwb3RTdGF0dXMuc2hvd0RldkRvYyA9IGZhbHNlO1xud3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cyk7XG59XG5cbnZhciBkZXNjID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGUub2xkVmVyc2lvbiAhPSBudWxsICYmIHJ1bGUub2xkVmVyc2lvbiA8IHJ1bGUudmVyc2lvbiA/IChcIuKAmOKAmOacieaWsOeJiOacrO+8mlwiICsgcnVsZS52ZXJzaW9uICsgXCLigJnigJnvvIzngrnlh7vlr7zlhaXmlrDniYjmnKxcIikgOiBydWxlLm9sZFZlcnNpb24gPiBydWxlLnZlcnNpb24gPyBcIuKAmOKAmOWWte+8n+S4uuWVpeS9oOeahOinhOWImeeJiOacrOavlOaIkei/mOmrmO+8n+KAmeKAmVwiIDogXCLlvZPliY3op4TliJnlt7LmmK/mnIDmlrDniYjvvIzngrnlh7vot7PliLDop4TliJnpobVcIjtcbn07XG5cbi8vIOS4uuaJgOacieWIhuexu+a3u+WKoOaAu+S7k+W6k+mhuVxudHJ5e1xudmFyIHJlbW90ZURlcG90UnVsZVVybCA9IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L3Jhdy9tYXN0ZXIvcnVsZXZlcnNpb24vZGVwb3RSdWxlX3YyX3JlbGVhc2UuanNvblwiXG52YXIgcmVtb3RlRGVwb3RSdWxlID0ge307XG5ldmFsKFwicmVtb3RlRGVwb3RSdWxlPVwiICsgZmV0Y2gocmVtb3RlRGVwb3RSdWxlVXJsLCB7fSkpO1xudmFyIGxvY2FsRGVwb3RSdWxlID0gSlNPTi5wYXJzZShnZXRSdWxlKCkpO1xucmVtb3RlRGVwb3RSdWxlLm9sZFZlcnNpb24gPSBsb2NhbERlcG90UnVsZS52ZXJzaW9uO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShsb2NhbERlcG90UnVsZSkpO1xuLy9zZXRFcnJvcihKU09OLnN0cmluZ2lmeShyZW1vdGVEZXBvdFJ1bGUpKTtcbmlmIChyZW1vdGVEZXBvdFJ1bGUub2xkVmVyc2lvbiA8IHJlbW90ZURlcG90UnVsZS52ZXJzaW9uKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IHJlbW90ZURlcG90UnVsZS50aXRsZSArIFwiXFx0XCIgKyBkZXNjKHJlbW90ZURlcG90UnVsZSksXG4gICAgICAgIHVybDogXCJodHRwczovL2JhaWR1LmNvbSNcIiArIEpTT04uc3RyaW5naWZ5KHJlbW90ZURlcG90UnVsZSkgIHx8IFwiXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIixcbiAgICAgICAgLy9jb250ZW50OiByZW1vdGVEZXBvdFJ1bGUudXBkYXRlVGV4dCxcbiAgICAgICAgZGVzYzogXCLjgJDmm7TmlrDml6Xlv5fjgJFcXG7mm7TlpJrlrozmlbTml6Xlv5for7flnKjph4zpnaLngrnlh7vov5vlhaXljp/nvZHpobXmn6XnnItcIlxuICAgIH0pO1xufSBlbHNlIHtcbiAgICBkWzBdLmRlc2MgPSBcIuKAmOKAmOeCueWHu+WPr+afpeeci+abtOaWsOaXpeW/l+KAmeKAmTxicj5cIiArIGRbMF0uZGVzYztcbiAgICBkWzBdLnVybCA9IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L2Jsb2IvbWFzdGVyL3J1bGV2ZXJzaW9uL0NIQU5HRUxPR19ERVBPVFJVTEVfVjIubWQjdXBkYXRlVGV4dD1cIiArIHJlbW90ZURlcG90UnVsZS51cGRhdGVUZXh0XG59XG59IGNhdGNoIChlKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi4oCY4oCY5oC75LuT5bqT5pu05paw56iL5bqP5bey5o2f5Z2P4oCZ4oCZXCIsXG4gICAgICAgIGRlc2M6IFwi6K+36IGU57O7IFJlYm9ybiDkv67lpI1cIixcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiLFxuICAgIH0pO1xufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IGF1dGhvckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgaWYgKGlzSGlkZVJ1bGUoYXV0aG9yTGlzdFtpXSkpIHtcbiAgICAgICAgICBhdXRob3JMaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICBpLS07XG4gICAgICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBwaWNVcmwgPSBudWxsO1xuICAgIHZhciBwaWNVcmxKUyA9IGF1dGhvckxpc3RbaV0ubWF0Y2goL3BpY1VybD0uW1xcc1xcU10qPycvKSArIFwiO1wiO1xuICAgIGV2YWwocGljVXJsSlMpO1xuICAgIGlmIChwaWNVcmwgPT0gbnVsbCkgcGljVXJsID0gcGljVXJsTGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqcGljVXJsTGlzdC5sZW5ndGgpXTtcbiAgICAvLyBzZXRFcnJvcihwaWNVcmwpXG4gICAgZC5wdXNoKHtcbiAgICAgICAgIHRpdGxlOiBhdXRob3JMaXN0W2ldLnNwbGl0KFwiQEBcIilbMF0sXG4gICAgICAgICB1cmw6IFwiaHR0cHM6Ly9iYWlkdS5jb20jXCIgKyBhdXRob3JMaXN0W2ldLFxuICAgICAgICAgcGljX3VybDogcGljVXJsXG4gICAgfSk7XG59XG59XG5cbi8vIHNldEVycm9yKEpTT04uc3RyaW5naWZ5KGQpKTtcbnJlcy5kYXRhID0gZDtcbnNldEhvbWVSZXN1bHQocmVzKTsiLCJzZWFyY2hfdXJsIjoiIiwidGl0bGVDb2xvciI6IiNmZmYyMGMwMCIsImdyb3VwIjoiI++4j+KDo+mmlumhtSIsInNlYXJjaEZpbmQiOiIiLCJkZXRhaWxfY29sX3R5cGUiOiJ0ZXh0XzEiLCJkZXRhaWxfZmluZF9ydWxlIjoianM6XG52YXIgcmVzID0ge307XG52YXIgZCA9IFtdO1xuXG4vLyDorr7nva4gdHJ1ZSDkuIDplK7lh4DljJbvvIzpmaTkuobop4TliJnlkozku5PlupPpgJrnn6XvvIzllaXkuZ/kuI3opoFcbnZhciBoaWRlQWxsID0gZmFsc2U7XG5cbi8vIOaYr+WQpuWFgeiuuOi2hei/h+S4gOWumuinhOWImeaVsOWQjuaUueWPmOaYvuekuuagt+W8j++8jOm7mOiupOS4jeW8gOWQr1xudmFyIG5lZWRDaGFuZ2VTaG93VHlwZSA9IGZhbHNlO1xuLy8g6K6+572u5pyA5aSn5pi+56S65a6M5pW05paH5pys55qE6KeE5YiZ5pWw77yM5aSn5LqO6K6+572u5YC85YiZ5pi+56S65Li65oyJ6ZKu5qC35byPKOm7mOiupCB0ZXh0XzIpXG52YXIgc2hvd0Z1bGxUZXh0TWF4ID0gMTA7XG4vLyDorr7nva7otoXov4flhYHorrjmmL7npLrlrozmlbTmlofmnKznmoTop4TliJnmlbDlkI7mmL7npLrnmoTmoLflvI9cbnZhciBvdmVyTWF4U2hvd1R5cGUgPSBcInRleHRfMlwiO1xuXG4vLyDlhaXmiI/lvIDlhbPvvJ/vvIjmu5HnqL3vvIkvLyDliKDpmaTlvIDlhbPvvIzkuI3pnIDopoHliKDpmaTor7forr7nva7kuLpmYWxzZVxudmFyIG5lZWREZWxTeW1ib2wgPSB0cnVlO1xuLy8g6Ieq6KGM5re75Yqg6KaB6KKr5Yig5o6J55qE5qCH6K6wXG52YXIgc3ltYm9scyA9IFtcIuagh+iusDFcIixcIuagh+iusDJcIl07XG5cbi8vIOmakOiXj+W8gOWFs++8jOS4jemcgOimgemakOiXj+ivt+iuvue9ruS4umZhbHNlXG52YXIgbmVlZEhpZGVSdWxlID0gdHJ1ZTtcbi8vIOiHquihjOa3u+WKoOimgemakOiXj+eahOagh+iusO+8jOagvOW8j+S4uu+8mlvmoIforrDlkI1dXG52YXIgaGlkZVN5bWJvbHMgPSBbXCJb5qih5p2/XVwiLCBcIlvmnKrlrozmiJBdXCJdO1xuXG4vLyDmmK/lkKbpmpDol4/kvovlrZDvvIzpnIDopoHpmpDol4/or7forr7nva7kuLp0cnVlXG52YXIgbmVlZEhpZGVFdGMgPSBmYWxzZTtcbmlmIChuZWVkSGlkZUV0YyA9PSB0cnVlKSBoaWRlU3ltYm9scy5wdXNoKFwiW+S+i+WtkF1cIik7XG5cbi8vIOWwj+S7k+W6k+agh+mimOW8gOWFs++8iOazqOaEj+S6i+mhueS4iumdoumCo+S4qu+8ie+8jOS4jemcgOimgeaYvuekuuivt+iuvue9ruS4unRydWVcbnZhciBub1RpdGxlID0gZmFsc2U7XG4vLyDms6jmhI/kuovpobnlvIDlhbPvvIzkuI3pnIDopoHmmL7npLror7forr7nva7kuLp0cnVlXG52YXIgbm9XYXJuaW5nID0gZmFsc2U7XG5cbi8qKlxuICog5Y+v5Zyo5q2k5aSE6Ieq5a6a5LmJ5LuT5bqT77yM5a6e546w56eB5Lq65LuT5bqTXG4gKlxuICog5LulUmVib3Ju5LuT5bqT55qE6ZO+5o6l5Li65Y+C6ICDXG4gKlxuICogaHR0cHM6Ly9naXRlZS5jb20vUmVib3JuXzAvSGlrZXJSdWxlc0RlcG90L2Jsb2IvbWFzdGVyL3VwZGF0ZS5qc29uXG4gKi9cbnZhciBhdXRob3JMaXN0ID0gZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdO1xudmFyIGF1dGhvckFuZE93bmVyQW5kUHJvamVjdCA9IGF1dGhvckxpc3Quc3BsaXQoXCJAQFwiKTtcbnZhciByZW1vdGVBcGlIb21lID0gXCJodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3MvXCI7XG52YXIgb3duZXIgPSBhdXRob3JBbmRPd25lckFuZFByb2plY3RbMV07ICAgLy8g5LuT5bqT5oul5pyJ6ICFXG52YXIgcmVwbyA9IGF1dGhvckFuZE93bmVyQW5kUHJvamVjdFsyXTsgLy8g5LuT5bqT5ZCNXG52YXIgYXV0aG9yID0gYXV0aG9yQW5kT3duZXJBbmRQcm9qZWN0WzBdO1xudmFyIHJlbW90ZUZpbGVuYW1lID0gbnVsbDsgLy8g5paH5Lu25ZCNXG52YXIgcGF0aCA9IHJlbW90ZUZpbGVuYW1lOyAgLy8g5Zyo5LuT5bqT5Lit5paH5Lu255qE6Lev5b6EXG52YXIgYWNjZXNzX3Rva2VuID0gbnVsbDsgIC8vIOeUqOaIt+aOiOadg+egge+8jOWcqOeggeS6kVwi6K6+572u4oCUPuWuieWFqOiuvuWumi0+5Liq5Lq66K6/6Zeu5Luk54mMXCLkuK3lj6/ku6XnlJ/miJBcbnZhciB0b2tlbkpTID0gZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdLm1hdGNoKC9hY2Nlc3NfdG9rZW49LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbmV2YWwodG9rZW5KUyk7ICBcbi8vIHNldEVycm9yKGFjY2Vzc190b2tlbj09bnVsbCk7XG5cbnZhciByZW1vdGVGaWxlbmFtZUpTID0gYXV0aG9yTGlzdC5tYXRjaCgvcmVtb3RlRmlsZW5hbWU9LltcXHNcXFNdKj8nLykgKyBcIjtcIjtcbmV2YWwocmVtb3RlRmlsZW5hbWVKUyk7XG5pZiAocmVtb3RlRmlsZW5hbWUgPT0gbnVsbCkgcmVtb3RlRmlsZW5hbWUgPSBcInVwZGF0ZS5qc29uXCI7XG5wYXRoID0gcmVtb3RlRmlsZW5hbWU7XG4vLyBzZXRFcnJvcihyZW1vdGVGaWxlbmFtZSlcblxuLyoqXG4gKiDvvIHvvIHvvIHlu7rorq7lnKjmraTlpITphY3nva7np4Hkurrku5PlupPvvIHvvIHvvIFcbiAqXG4gKiDkuLrkuobkuI3lvbHlk43ljp/ku5PlupPlj6/ku6XlnKjov5nph4zorr7nva7oh6rlt7HnmoTku5PlupPphY3nva7vvIzkuL7kvovvvJpcbiAqXG4gKiDpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9SZWJvcm5fMC9IaWtlclJ1bGVzUHJpdmFjeS9ibG9iL21hc3Rlci91cGRhdGUuanNvblxuICovXG4vKlxub3duZXIgPSBcIlJlYm9ybl8wXCI7XG5yZXBvID0gXCJIaWtlclJ1bGVzUHJpdmFjeVwiO1xucGF0aCA9IFwidXBkYXRlLmpzb25cIjtcbmFjY2Vzc190b2tlbiA9IFwiKioqKioqKioqKlwiO1xuLy8gYXV0aG9yID0gXCJSZWJvcm5cIjsgIC8vIOiLpeaJgOacieinhOWImWF1dGhvcumDveaYr+WQjOS4gOS4quWImeWcqOatpOWkhOWbuuWumuS4gOS4quWNs+WPr++8jOeEtuWQjuWIhuexu+WPr+S7pea4heepuu+8jOazqOaEj+WIoOmZpCBzcGxpdO+8jOS4jeeEtuS8muaKpemUme+8m+WQpuWImeivt+azqOaEj+Whq+WlveWIhuexu++8jOS4jeeEtuayoeazleajgOa1i+abtOaWsFxuKi9cblxuLy8g5oqK5oC75LuT5bqT54q25oCB5YaZ5YWl5paH5Lu2XG5mdW5jdGlvbiB3cml0ZURlcG90U3RhdHVzVG9GaWxlIChkZXBvdFN0YXR1cykge1xuICAgIHdyaXRlRmlsZShcImhpa2VyOi8vZmlsZXMvZGVwb3RTdGF0dXMuanNvblwiLCBKU09OLnN0cmluZ2lmeShkZXBvdFN0YXR1cykpO1xufVxuLy8g6Iul5LiN5piv56ys5LiA5qyh5L2/55So5oC75LuT5bqT5YiZ6ZqQ6JeP5byA5Y+R5paH5qGjXG52YXIgZGVwb3RTdGF0dXMgPSB7fTsgXG52YXIgZGVwb3RTdGF0dXNGaWxlID0gIGZldGNoKFwiaGlrZXI6Ly9maWxlcy9kZXBvdFN0YXR1cy5qc29uXCIsIHt9KTtcbmlmIChkZXBvdFN0YXR1c0ZpbGUgIT0gXCJcIikgeyBcbiAgICBldmFsKFwiZGVwb3RTdGF0dXM9XCIrZGVwb3RTdGF0dXNGaWxlKTtcbn1cbi8vIOiLpemcgOimgeawuOS5heaYvuekuuaPkOekuu+8jOWImeWPlua2iOazqOmHilxuLy8gZGVwb3RTdGF0dXMuc2hvd1NlY29uZExpc3RUaXBzID0gdHJ1ZTtcblxuaWYgKGdldFVybCgpLmluZGV4T2YoXCJydWxlOi8vXCIpICE9IC0xKSB7XG4gICAgdmFyIHJlbW90ZURlcG90UnVsZSA9IEpTT04ucGFyc2UoZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdKTtcbiAgICBkLnB1c2goe1xuICAgICAgICAgdGl0bGU6IFwi5pu05paw5pel5b+XICjngrnlh7vlj6/mn6XnnIvlrozmlbTml6Xlv5cpXCIsXG4gICAgICAgICBkZXNjOiByZW1vdGVEZXBvdFJ1bGUudXBkYXRlVGV4dCxcbiAgICAgICAgIHVybDogXCJodHRwczovL2dpdGVlLmNvbS9xaXVzdW5zaGluZTIzMy9oaWtlclZpZXcvYmxvYi9tYXN0ZXIvcnVsZXZlcnNpb24vQ0hBTkdFTE9HX0RFUE9UUlVMRV9WMi5tZFwiLFxuICAgICAgICAgY29sX3R5cGU6IFwicGljXzFcIlxuICAgIH0pO1xuICAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLngrnlh7vmm7TmlrDmgLvku5PlupNcIixcbiAgICAgICAgIHVybDogcmVtb3RlRGVwb3RSdWxlLnJ1bGUsXG4gICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCIgXG4gICAgfSk7XG59IGVsc2UgaWYgKGdldFVybCgpLmluZGV4T2YoXCJ1cGRhdGVUZXh0PVwiKSAhPSAtMSkge1xuICAgIHZhciB1cGRhdGVUZXh0ID0gbnVsbDtcbiAgICAvLyB1cGRhdGVUZXh0SlMgPSBcInVwZGF0ZVRleHQ9J1wiICsgZ2V0VXJsKCkuc3BsaXQoXCIjXCIpWzFdLnJlcGxhY2UoXCJ1cGRhdGVUZXh0PVwiLCBcIlwiKSArIFwiJztcIjtcbiAgICAvLyBldmFsKHVwZGF0ZVRleHRKUyk7XG4gICAgdXBkYXRlVGV4dCA9IGdldFVybCgpLnNwbGl0KFwiI1wiKVsxXS5yZXBsYWNlKFwidXBkYXRlVGV4dD1cIiwgXCJcIik7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgIHRpdGxlOiBcIuabtOaWsOaXpeW/lyAo54K55Ye75Y+v5p+l55yL5a6M5pW05pel5b+XKVwiLFxuICAgICAgICAgZGVzYzogdXBkYXRlVGV4dCAhPSBudWxsID8gdXBkYXRlVGV4dCA6IFwi5pqC5peg5pu05paw5pel5b+XXCIsXG4gICAgICAgICB1cmw6IFwiaHR0cHM6Ly9naXRlZS5jb20vcWl1c3Vuc2hpbmUyMzMvaGlrZXJWaWV3L2Jsb2IvbWFzdGVyL3J1bGV2ZXJzaW9uL0NIQU5HRUxPR19ERVBPVFJVTEVfVjIubWRcIixcbiAgICAgICAgIGNvbF90eXBlOiBcInBpY18xXCJcbiAgICB9KTtcbn0gZWxzZSBpZiAoZ2V0VXJsKCkuaW5kZXhPZihcImRvY3VtZW50PVwiKSAhPSAtMSkge1xuICAgIHZhciBkb2N1bWVudFVybCA9IG51bGw7XG4gICAgZG9jdW1lbnRVcmwgPSBnZXRVcmwoKS5zcGxpdChcIiNcIilbMV0ucmVwbGFjZShcImRvY3VtZW50PVwiLCBcIlwiKTtcbiAgIGQucHVzaCh7XG4gICAgICAgICB0aXRsZTogXCLmgLvku5PlupPlvIDlj5HmlofmoaPlhaXlj6NcIixcbiAgICAgICAgIGRlc2M6IFwi6L+Z5piv5LiT6Zeo57uZ5aSn5L2s5Lus5YaZ55qE77yM5paH56yU5aSq5beu5LqG77yM6KeJ5b6X5YaZ5b6X5Lmx6L+Y6K+35L2T6LCF5LiA5LiL8J+ZiOOAguacieS4jeaHgueahOWcsOaWueWPr+S7peiBlOezu+aIke+8jOa6nOS6hua6nOS6hu+9nlwiLFxuICAgICAgICAgdXJsOiBkb2N1bWVudFVybCxcbiAgICAgICAgIGNvbF90eXBlOiBcInBpY18xXCJcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICAgdGl0bGU6IFwi54K55Ye75Y+v5p+l55yL5a6M5pW05paH5qGjXCIsXG4gICAgICAgICB1cmw6IGRvY3VtZW50VXJsLFxuICAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSk7XG59IGVsc2Uge1xuXG4vLyBBUEnpk77mjqXlj4LogIPvvJpodHRwczovL2dpdGVlLmNvbS9hcGkvdjUvcmVwb3Mve3tvd25lcn19L3t7cmVwb319L2NvbnRlbnRzL3t7cGF0aH19P2FjY2Vzc190b2tlbj0qKioqXG52YXIgcmVtb3RlVXJsID0gcmVtb3RlQXBpSG9tZSArIG93bmVyICsgXCIvXCIgKyByZXBvICsgXCIvY29udGVudHMvXCIgKyBwYXRoO1xuaWYgKGFjY2Vzc190b2tlbiAhPSBudWxsKSB7XG4gICAgcmVtb3RlVXJsID0gcmVtb3RlVXJsICsgXCI/YWNjZXNzX3Rva2VuPVwiICthY2Nlc3NfdG9rZW47XG59XG4vLyBzZXRFcnJvcihyZW1vdGVVcmwpO1xudmFyIHJlbW90ZUhvbWUgPSBcImh0dHBzOi8vZ2l0ZWUuY29tL1wiICsgb3duZXIgKyBcIi9cIiArIHJlcG8gKyBcIi9ibG9iL21hc3Rlci91cGRhdGUuanNvblwiXG5cbmZ1bmN0aW9uIGdldFJ1bGVOb1N5bWJvbHMocnVsZSwgc3ltYm9sTGlzdCkge1xuICAgIGlmIChuZWVkRGVsU3ltYm9sICE9IHRydWUpIHJldHVybiBydWxlO1xuICAgIHZhciBydWxlVGVtcCA9IHJ1bGU7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHN5bWJvbExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN5bWJvbFJlZyA9IG5ldyBSZWdFeHAoc3ltYm9sTGlzdFtpXSwgXCJnXCIpO1xuICAgICAgICBydWxlVGVtcC50aXRsZSA9IHJ1bGVUZW1wLnRpdGxlLnJlcGxhY2Uoc3ltYm9sUmVnLCBcIlwiKTtcbiAgICB9XG4vL3NldEVycm9yKEpTT04uc3RyaW5naWZ5KHJ1bGVUZW1wKSk7XG4gICAgcmV0dXJuIHJ1bGVUZW1wO1xufVxuXG5mdW5jdGlvbiBpc0hpZGVSdWxlIChydWxlKSB7XG4gICAgaWYgKG5lZWRIaWRlUnVsZSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gaWYgKGhpZGVTeW1ib2xzLmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJ1bGVUZW1wID0gcnVsZTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgaGlkZVN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJ1bGVUZW1wLnRpdGxlLmluZGV4T2YoaGlkZVN5bWJvbHNbaV0pICE9IC0xKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgcnVsZXMgPSBbXTtcbmV2YWwoXCJydWxlcz1cIiArIGZldGNoKFwiaGlrZXI6Ly9ob21lXCIsIHt9KSk7XG52YXIgbXlSdWxlcyA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBydWxlID0gcnVsZXNbaV07XG4gICAgaWYgKHJ1bGUuYXV0aG9yID09IGF1dGhvcikge1xuICAgICAgICBteVJ1bGVzLnB1c2goZ2V0UnVsZU5vU3ltYm9scyhydWxlLCBzeW1ib2xzKSk7XG4gICAgfVxufVxuLy8gc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkobXlSdWxlcykpO1xuXG4vLyDlpoLmnpzmnKzlnLDmsqHmnInliJnmj5DnpLrlr7zlhaXmlrDop4TliJlcbi8vIOWboOmDqOWIhuaJi+acuuS4jeaUr+aMgWVzNuivreazle+8jOaVheazqOmHiuaOiVxuLyp2YXIgbXlSdWxlc01hcCA9IG5ldyBNYXAoKTtcbm15UnVsZXMubWFwKHJ1bGU9Pntcbm15UnVsZXNNYXAuc2V0KHJ1bGUudGl0bGUsIHRydWUpO1xufSk7XG4vL3NldEVycm9yKG15UnVsZXNNYXAuZ2V0KFwi6IW+6K6v4oCiUmVcIikpOyovXG4vLyDljp/lp4vmlrnms5XvvIzmr5TovoPogJfml7ZcbmZ1bmN0aW9uIGlzSW5BcnJheShydWxlcywgdGl0bGUpIHtcbiAgICBpZiAocnVsZXMubGVuZ3RoID09IDApIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChydWxlc1tpXS50aXRsZSA9PSB0aXRsZSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbnZhciBkZXNjID0gZnVuY3Rpb24gKHJ1bGVzLCBydWxlKSB7XG4gICAgaWYgKGlzSW5BcnJheShydWxlcywgcnVsZS50aXRsZSkgPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gcnVsZS5vbGRWZXJzaW9uICE9IG51bGwgJiYgcnVsZS5vbGRWZXJzaW9uIDwgcnVsZS52ZXJzaW9uID8gKFwi4oCY4oCY5pyJ5paw54mI5pys77yaXCIgKyBydWxlLnZlcnNpb24gKyBcIuKAmeKAme+8jOeCueWHu+WvvOWFpeaWsOeJiOacrFwiKSArICAoXCI8YnI+PGJyPlvmm7TmlrDml6Xlv5ddIFwiICsocnVsZS51cGRhdGVUZXh0ID09bnVsbCA/IFwi5pegXCI6IHJ1bGUudXBkYXRlVGV4dCkgKyAocnVsZS50aXBzICE9IG51bGwgJiYgcnVsZS50aXBzICE9IFwiXCIgPyBcIjxicj48YnI+VGlwczogXCIgKyBydWxlLnRpcHMgOiBcIlwiKSkgOiBydWxlLm9sZFZlcnNpb24gPiBydWxlLnZlcnNpb24gPyBcIuKAmOKAmOWWte+8n+S4uuWVpeS9oOeahOinhOWImeeJiOacrOavlOaIkei/mOmrmO+8n+KAmeKAmVwiIDogXCLlvZPliY3op4TliJnlt7LmmK/mnIDmlrDniYjvvIzngrnlh7vot7PliLDop4TliJnpobVcIiArIChydWxlLnRpcHMgIT0gbnVsbCAmJiBydWxlLnRpcHMgIT0gXCJcIiA/IFwiXFxuXFxuVGlwczogXCIgKyBydWxlLnRpcHMgIDogXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwi4oCY4oCY5L2g5bCa5pyq5a+85YWl6K+l6KeE5YiZ4oCZ4oCZ77yM54K55Ye75a+85YWlXCIgKyAocnVsZS50aXBzICE9IG51bGwgJiYgcnVsZS50aXBzICE9IFwiXCIgPyBcIjxicj48YnI+VGlwczogXCIgKyBydWxlLnRpcHMgOiBcIlwiKTtcbiAgICB9XG59O1xuXG5pZiAoZGVwb3RTdGF0dXMuc2hvd1NlY29uZExpc3RUaXBzICE9IGZhbHNlKSB7XG5kLnB1c2goe1xuICAgIHRpdGxlOiBcIummluasoeWvvOWFpeaPkOekulxcbuKAmOKAmCjku4XmmL7kuIDmrKEp4oCZ4oCZXCIsXG4gICAgZGVzYzogXCIxLuKAmOKAmOS4i+aLieWIt+aWsOWNs+WPr+aYvuekuuS7k+W6k+inhOWImeKAmeKAmVwiICsgXCJcXG4yLuS6jOe6p+inhOWImeS4rSBuZWVkQ2hhbmdlU2hvd1R5cGUg5Y+v6K6+572u5pi+56S65qC35byPXCIgKyBcIlxcbjMu5LqM57qn6KeE5YiZ5LitIGhpZGVBbGwg5Y+v6K6+572u5LiA6ZSu6ZqQ6JeP5qCH6aKY5ZKM5rOo5oSP5LqL6aG5XCIsXG4gICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG59KTtcbmRlcG90U3RhdHVzLnNob3dTZWNvbmRMaXN0VGlwcyA9IGZhbHNlO1xud3JpdGVEZXBvdFN0YXR1c1RvRmlsZShkZXBvdFN0YXR1cyk7XG59IGVsc2Uge1xuXG5pZiAobm9UaXRsZSAhPSB0cnVlICYmIGhpZGVBbGwgIT0gdHJ1ZSkge1xuZC5wdXNoKHtcbiAgICB0aXRsZTogXCLigJjigJjov5nph4zmmK8gXCIgKyBhdXRob3IgKyBcIiDnmoTop4TliJnlsI/ku5PlupPigJnigJlcIixcbiAgICAvLyBkZXNjOiBcIueCueWHu+WPr+iuv+mXruinhOWImeS7k+W6k+a6kFwiLFxuICAgIHVybDogcmVtb3RlSG9tZSxcbiAgICBjb2xfdHlwZTogXCJ0ZXh0XzFcIlxufSk7XG59XG5cbnZhciByZW1vdGVSdWxlcyA9IFtdO1xuLy8gdmFyIHJlbW90ZVVybCA9IHJlbW90ZUFwaUhvbWUgKyBlbmNvZGVVUklDb21wb25lbnQoYXV0aG9yKSArIFwiL1wiICsgcmVtb3RlRmlsZW5hbWU7XG52YXIgcmVtb3RlU291cmNlID0gZmV0Y2gocmVtb3RlVXJsLCB7fSk7XG4vLyBzZXRFcnJvcihyZW1vdGVVcmwpO1xudHJ5IHtcbiAgICBldmFsKFwicmVtb3RlU291cmNlPVwiICsgcmVtb3RlU291cmNlKTtcbiAgICBldmFsKFwicmVtb3RlUnVsZXM9XCIgKyBiYXNlNjREZWNvZGUocmVtb3RlU291cmNlLmNvbnRlbnQpKTtcbiAgICBpZiAocmVtb3RlUnVsZXMuZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICB2YXIgbm90aWNlID0gcmVtb3RlUnVsZXMubm90aWNlO1xuICAgICAgICAgaWYgKG5vdGljZSAhPSBudWxsICYmIG5vdGljZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5LuT5bqT6YCa55+lXCIsXG4gICAgICAgICAgICAgICAgICAgZGVzYzogbm90aWNlLFxuICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcInBpY18xXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICB9XG4gICAgICAgICByZW1vdGVSdWxlcyA9IHJlbW90ZVJ1bGVzLmRhdGE7XG4gICAgfVxuaWYgKG5vV2FybmluZyAhPSB0cnVlICYmIGhpZGVBbGwgIT0gdHJ1ZSkge1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuazqOaEj+S6i+mhuVwiLFxuICAgICAgICBkZXNjOiBcIjEuIOS/neWtmOWQjumcgOimgeaJi+WKqOS4i+aLieWIt+aWsOaJjeiDveabtOaWsOinhOWImeeKtuaAgVwiICsgXCJcXG4yLiDmjInpkq7lvaLnirbnmoTop4TliJnmmK/lpITkuo7mnIDmlrDniYjmnKznmoTvvIzngrnlh7vlj6/ot7Povazoh7Pop4TliJnpobVcIixcbiAgICAgICAgY29sX3R5cGU6IFwicGljXzFcIixcbiAgICAgICAgdXJsOiBcImhpa2VyOi8vaG9tZUDmgLvku5PlupNcIlxuICAgIH0pO1xufVxufSBjYXRjaChlKSB7IH1cbi8vc2V0RXJyb3IocmVtb3RlUnVsZXMubGVuZ3RoKTtcbmlmIChyZW1vdGVSdWxlcy5sZW5ndGggPT0gMCkge1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuivpei/nOeoi+S7k+W6k+aXoOaVsOaNru+8gVwiLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogXCLor6Xov5znqIvku5PlupPml6DmlbDmja7vvIFcIixcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSk7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi6K+l6L+c56iL5LuT5bqT5peg5pWw5o2u77yBXCIsXG4gICAgICAgIGNvbF90eXBlOiBcInRleHRfY2VudGVyXzFcIlxuICAgIH0pO1xufSBlbHNlIHtcbiAgICAvL3NldEVycm9yKG15UnVsZXMubGVuZ3RoKTtcbiAgICBpZiAobXlSdWxlcy5sZW5ndGggPj0gcmVtb3RlUnVsZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIOS4jeefpemBk+S8muS4jeS8muaciemXrumimFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG15UnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVtb3RlUnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNIaWRlUnVsZShyZW1vdGVSdWxlc1tqXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlUnVsZXMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgICAgICBqLS07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobXlSdWxlc1tpXS50aXRsZSA9PSByZW1vdGVSdWxlc1tqXS50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVSdWxlc1tqXS5vbGRWZXJzaW9uID0gbXlSdWxlc1tpXS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2pdLnJ1bGU9bXlSdWxlc1tpXS5ydWxlO1xuICAgICAgICAgICAgICAgICAgICAvL3JlbW90ZVJ1bGVzW2pdLmRlc2M9bXlSdWxlc1tpXS5kZXNjO1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3RlUnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoaXNIaWRlUnVsZShyZW1vdGVSdWxlc1tpXSkpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlUnVsZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbXlSdWxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChteVJ1bGVzW2pdLnRpdGxlID09IHJlbW90ZVJ1bGVzW2ldLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVJ1bGVzW2ldLm9sZFZlcnNpb24gPSBteVJ1bGVzW2pdLnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbaV0ucnVsZT1teVJ1bGVzW2pdLnJ1bGU7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlUnVsZXNbaV0uZGVzYz1teVJ1bGVzW2pdLmRlc2M7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyZ2VTb3J0KGFycikge1xuICAgICAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pZGRsZSA9IE1hdGguZmxvb3IobGVuIC8gMiksXG4gICAgICAgICAgICBsZWZ0ID0gYXJyLnNsaWNlKDAsIG1pZGRsZSksXG4gICAgICAgICAgICByaWdodCA9IGFyci5zbGljZShtaWRkbGUpO1xuICAgICAgICByZXR1cm4gbWVyZ2UobWVyZ2VTb3J0KGxlZnQpLCBtZXJnZVNvcnQocmlnaHQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZShsZWZ0LCByaWdodCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgd2hpbGUgKGxlZnQubGVuZ3RoID4gMCAmJiByaWdodC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAobGVmdFswXS5vbGRWZXJzaW9uIDwgbGVmdFswXS52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmlnaHRbMF0ub2xkVmVyc2lvbiA8IHJpZ2h0WzBdLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdFswXS5vbGRWZXJzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS5vbGRWZXJzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsZWZ0Lmxlbmd0aClcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxlZnQuc2hpZnQoKSk7XG5cbiAgICAgICAgd2hpbGUgKHJpZ2h0Lmxlbmd0aClcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVtb3RlUnVsZXMgPSBtZXJnZVNvcnQocmVtb3RlUnVsZXMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaiA9IHJlbW90ZVJ1bGVzW2ldO1xuICAgICAgICB2YXIgciA9IHt9O1xuICAgICAgICBpZiAobmVlZENoYW5nZVNob3dUeXBlID09IHRydWUgJiYgai5vbGRWZXJzaW9uICE9IG51bGwgJiYgai5vbGRWZXJzaW9uID49IGoudmVyc2lvbiAmJiByZW1vdGVSdWxlcy5sZW5ndGggPiBzaG93RnVsbFRleHRNYXgpIHIuY29sX3R5cGUgPSBvdmVyTWF4U2hvd1R5cGU7XG4gICAgICAgIHIuZGVzYyA9IGRlc2MobXlSdWxlcywgaik7XG4gICAgICAgIHIudGl0bGUgPSBqLnRpdGxlO1xuICAgICAgICByLnVybCA9ICBpc0luQXJyYXkobXlSdWxlcywgai50aXRsZSkgPyhqLm9sZFZlcnNpb24gIT0gbnVsbCAmJiBqLm9sZFZlcnNpb24gPCBqLnZlcnNpb24gPyAoai5ydWxlIHx8IFwiXCIpIDogKFwiaGlrZXI6Ly9ob21lQFwiK2oudGl0bGUpKTogIChqLnJ1bGUgfHwgXCJcIik7XG4gICAgICAgIC8vci5jb250ZW50ID0gai51cGRhdGVUZXh0O1xuICAgICAgICBkLnB1c2gocik7XG4gICAgfVxufVxufVxufVxucmVzLmRhdGEgPSBkO1xuc2V0SG9tZVJlc3VsdChyZXMpOyIsInNkZXRhaWxfY29sX3R5cGUiOiJtb3ZpZV8xIiwic2RldGFpbF9maW5kX3J1bGUiOiIifQ==" 
}